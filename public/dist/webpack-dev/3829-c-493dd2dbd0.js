(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3829],{

/***/ "qb0q":
/*!***************************************************************!*\
  !*** ./ui/features/content_shares/react/CourseImportPanel.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CourseImportPanel; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/do-fetch-api-effect */ \"Ipg6\");\n/* harmony import */ var _canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/content-sharing/react/proptypes/contentShare */ \"XFtX\");\n/* harmony import */ var _canvas_direct_sharing_react_components_DirectShareOperationStatus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/direct-sharing/react/components/DirectShareOperationStatus */ \"6Unn\");\n/* harmony import */ var _canvas_direct_sharing_react_components_ConfirmActionButtonBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/direct-sharing/react/components/ConfirmActionButtonBar */ \"2UvW\");\n/* harmony import */ var _canvas_direct_sharing_react_components_CourseAndModulePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/direct-sharing/react/components/CourseAndModulePicker */ \"ocMh\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('direct_share_course_import_panel');\nCourseImportPanel.propTypes = {\n  contentShare: _canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isRequired,\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  onImport: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"]\n};\nfunction CourseImportPanel({\n  contentShare,\n  onClose,\n  onImport\n}) {\n  const [selectedCourse, setSelectedCourse] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null);\n  const [selectedModule, setSelectedModule] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null);\n  const [selectedPosition, setSelectedPosition] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null);\n  const [startImportOperationPromise, setStartImportOperationPromise] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null);\n\n  function startImportOperation() {\n    setStartImportOperationPromise(Object(_canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      method: 'POST',\n      path: `/api/v1/courses/${selectedCourse.id}/content_migrations`,\n      body: {\n        migration_type: 'canvas_cartridge_importer',\n        settings: {\n          content_export_id: contentShare.content_export.id,\n          insert_into_module_id: (selectedModule === null || selectedModule === void 0 ? void 0 : selectedModule.id) || null,\n          insert_into_module_type: contentShare.content_type,\n          insert_into_module_position: selectedPosition,\n          importer_skips: ['LatePolicy']\n        }\n      }\n    }));\n    onImport(contentShare);\n  }\n\n  function handleSelectedCourse(course) {\n    setSelectedModule(null);\n    setSelectedCourse(course);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_direct_sharing_react_components_DirectShareOperationStatus__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    promise: startImportOperationPromise,\n    startingMsg: I18n.t('Starting import operation'),\n    successMsg: I18n.t('Import started successfully'),\n    errorMsg: I18n.t('There was a problem starting import operation')\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_direct_sharing_react_components_CourseAndModulePicker__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    selectedCourseId: selectedCourse === null || selectedCourse === void 0 ? void 0 : selectedCourse.id,\n    setSelectedCourse: handleSelectedCourse,\n    selectedModuleId: (selectedModule === null || selectedModule === void 0 ? void 0 : selectedModule.id) || null,\n    setSelectedModule: setSelectedModule,\n    setModuleItemPosition: setSelectedPosition,\n    disableModuleInsertion: contentShare.content_type === 'module',\n    moduleFilteringOpts: {\n      per_page: 50\n    },\n    courseFilteringOpts: {\n      enforce_manage_grant_requirement: true\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_direct_sharing_react_components_ConfirmActionButtonBar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    padding: \"small 0 0 0\",\n    primaryLabel: startImportOperationPromise ? null : I18n.t('Import'),\n    primaryDisabled: selectedCourse === null,\n    secondaryLabel: startImportOperationPromise ? I18n.t('Close') : I18n.t('Cancel'),\n    onPrimaryClick: startImportOperation,\n    onSecondaryClick: onClose\n  }));\n}\n\n//# sourceURL=webpack:///./ui/features/content_shares/react/CourseImportPanel.js?");

/***/ })

}]);