(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["admin_split"],{

/***/ "S4Ua":
/*!******************************************!*\
  !*** ./ui/features/admin_split/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./react/index */ \"iwyb\");\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n_instructure_ready__WEBPACK_IMPORTED_MODULE_0___default()(() => {\n  react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    user: ENV.ADMIN_SPLIT_USER,\n    splitUrl: ENV.ADMIN_SPLIT_URL,\n    splitUsers: ENV.ADMIN_SPLIT_USERS\n  }), document.getElementById('admin_split'));\n});\n\n//# sourceURL=webpack:///./ui/features/admin_split/index.js?");

/***/ }),

/***/ "iwyb":
/*!************************************************!*\
  !*** ./ui/features/admin_split/react/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdminSplit; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_6__[\"useScope\"])('admin_split');\nfunction AdminSplit({\n  user,\n  splitUrl,\n  splitUsers\n}) {\n  const [loading, setLoading] = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false);\n  const [results, setResults] = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])([]);\n  const [failed, setFailed] = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false);\n  const performSplit = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(() => {\n    setLoading(true);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(splitUrl, 'POST', {}, data => {\n      setLoading(false);\n      setResults(data);\n    }, _data => {\n      setLoading(false);\n      setFailed(true);\n    });\n  }, [splitUrl, setLoading, setResults, setFailed]);\n\n  const returnToReferrer = () => {\n    window.location = document.referrer;\n  };\n\n  if (failed) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"IconWarningLine\"], null), I18n.t('Failed to split users.'));\n  }\n\n  if (results.length > 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, I18n.t('User split complete. Links to split user accounts follow:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", null, results.map(u => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n      key: u.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n      href: `/users/${u.id}`\n    }, u.short_name)))), document.referrer ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n      margin: \"xx-small\",\n      color: \"primary\",\n      onClick: returnToReferrer\n    }, I18n.t('OK')) : null);\n  }\n\n  if (splitUsers.length === 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, I18n.t('There are no user accounts to split from this user.'));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, I18n.t('The following users will be split into separate user accounts:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n    key: user.id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n    href: user.html_url\n  }, user.display_name)), splitUsers.map(u => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n    key: u.id\n  }, u.display_name, \" (\", u.id, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, I18n.t('NOTE: This will attempt to undo the merge as fully as possible; however, merged users may not be perfectly restored to their prior state.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n    disabled: loading,\n    margin: \"xx-small\",\n    color: \"primary\",\n    onClick: performSplit\n  }, I18n.t('Split')), document.referrer ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n    margin: \"xx-small\",\n    color: \"secondary\",\n    onClick: returnToReferrer\n  }, I18n.t('Cancel')) : null);\n}\nconst userShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"shape\"])({\n  id: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"].isRequired,\n  display_name: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"].isRequired,\n  html_url: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"].isRequired\n});\nAdminSplit.propTypes = {\n  splitUrl: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"].isRequired,\n  user: userShape.isRequired,\n  splitUsers: Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"arrayOf\"])(userShape).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/admin_split/react/index.js?");

/***/ })

}]);