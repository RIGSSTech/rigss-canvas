(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3740],{

/***/ "40dz":
/*!***************************************************************************!*\
  !*** ./ui/shared/blueprint-courses/react/components/LockManager/index.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LockManager; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/get */ \"mwIZ\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _buildLockProps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buildLockProps */ \"9VqM\");\n/* harmony import */ var _apiClient__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../apiClient */ \"poaC\");\n/* harmony import */ var _LockBanner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LockBanner */ \"4xd2\");\n/* harmony import */ var _LockToggle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LockToggle */ \"HFDK\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('blueprint_coursesLockManageer');\nclass LockManager {\n  constructor() {\n    this.toggleLocked = () => {\n      const {\n        itemType\n      } = this.props;\n      const {\n        courseId,\n        isLocked,\n        itemId\n      } = this.state;\n      _apiClient__WEBPACK_IMPORTED_MODULE_7__[\"default\"].toggleLocked({\n        courseId,\n        itemType,\n        itemId,\n        isLocked: !isLocked\n      }).then(res => {\n        if (res.data.success) {\n          this.setState({\n            isLocked: !isLocked\n          });\n        } else {\n          this.showToggleError();\n        }\n      }).catch(() => {\n        this.showToggleError();\n      });\n    };\n\n    this.state = {\n      isLocked: false,\n      itemLocks: [],\n      isMasterContent: false,\n      isChildContent: false,\n      itemId: ''\n    };\n  }\n\n  init(options) {\n    if (!this.shouldInit()) return;\n    this.props = Object(_buildLockProps__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(options);\n    this.setupState();\n\n    if (this.state.itemId !== undefined) {\n      // will be undefined if creating a new assignment, discussion, etc.\n      this.render();\n    }\n  }\n\n  shouldInit() {\n    return ENV.MASTER_COURSE_DATA && (ENV.MASTER_COURSE_DATA.is_master_course_master_content || ENV.MASTER_COURSE_DATA.is_master_course_child_content);\n  }\n\n  setupState() {\n    this.state = {\n      isLocked: ENV.MASTER_COURSE_DATA.restricted_by_master_course,\n      itemLocks: ENV.MASTER_COURSE_DATA.master_course_restrictions || ENV.MASTER_COURSE_DATA.default_restrictions,\n      isMasterContent: ENV.MASTER_COURSE_DATA.is_master_course_master_content,\n      isChildContent: ENV.MASTER_COURSE_DATA.is_master_course_child_content,\n      courseId: ENV.COURSE_ID,\n      itemId: lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(ENV, this.props.itemIdPath)\n    };\n  }\n\n  setState(newState) {\n    this.state = Object.assign(this.state, newState);\n    this.render();\n  }\n\n  getItemLocks() {\n    return { ...this.state.itemLocks\n    };\n  }\n\n  isMasterContent() {\n    return this.state.isMasterContent;\n  }\n\n  isChildContent() {\n    return this.state.isChildContent;\n  }\n\n  showToggleError() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashError(I18n.t('There was a problem toggling the content lock.'));\n  }\n\n  setupToggle(cb) {\n    if (!this.props.toggleWrapperSelector) return;\n\n    if (!this.toggleNode) {\n      _LockToggle__WEBPACK_IMPORTED_MODULE_9__[\"default\"].setupRootNode(this.props.toggleWrapperSelector, this.props.toggleWrapperChildIndex || 0, node => {\n        this.toggleNode = node;\n        cb();\n      });\n    } else {\n      cb();\n    }\n  }\n\n  renderLockToggle() {\n    if (!this.props.toggleWrapperSelector) return;\n    this.setupToggle(() => {\n      react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_LockToggle__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        isLocked: this.state.isLocked,\n        isToggleable: this.props.page === 'show' && this.state.isMasterContent,\n        onClick: this.toggleLocked\n      }), this.toggleNode);\n    });\n  }\n\n  renderBanner() {\n    if (!this.bannerNode) this.bannerNode = _LockBanner__WEBPACK_IMPORTED_MODULE_8__[\"default\"].setupRootNode();\n    react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_LockBanner__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      isLocked: this.state.isLocked,\n      itemLocks: this.state.itemLocks\n    }), this.bannerNode);\n  }\n\n  render() {\n    this.renderBanner();\n    this.renderLockToggle();\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/blueprint-courses/react/components/LockManager/index.js?");

/***/ }),

/***/ "4xd2":
/*!********************************************************************************!*\
  !*** ./ui/shared/blueprint-courses/react/components/LockManager/LockBanner.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LockBanner; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _LockItemFormat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../LockItemFormat */ \"wOvH\");\n/* harmony import */ var _propTypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../propTypes */ \"tlDv\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('blueprint_coursesLockBanner');\nclass LockBanner extends react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"] {\n  static setupRootNode() {\n    const bannerNode = document.createElement('div');\n    bannerNode.id = 'blueprint-lock-banner';\n    bannerNode.setAttribute('style', 'margin-bottom: 2em');\n    const contentNode = document.querySelector('#content');\n    return contentNode.insertBefore(bannerNode, contentNode.firstChild);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.isLocked && !prevProps.isLocked) {\n      jquery__WEBPACK_IMPORTED_MODULE_5___default.a.screenReaderFlashMessage(I18n.t('%{attributes} locked', {\n        attributes: Object(_LockItemFormat__WEBPACK_IMPORTED_MODULE_7__[\"formatLockObject\"])(this.props.itemLocks)\n      }));\n    }\n  }\n\n  render() {\n    if (this.props.isLocked) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__[\"Alert\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n        weight: \"bold\",\n        size: \"small\"\n      }, I18n.t('Locked:'), \"\\xA0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n        size: \"small\"\n      }, Object(_LockItemFormat__WEBPACK_IMPORTED_MODULE_7__[\"formatLockObject\"])(this.props.itemLocks)));\n    }\n\n    return null;\n  }\n\n}\nLockBanner.propTypes = {\n  isLocked: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  itemLocks: _propTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].itemLocks\n};\nLockBanner.defaultProps = {\n  itemLocks: {\n    content: false,\n    points: false,\n    settings: false,\n    due_dates: false,\n    availability_dates: false\n  }\n};\n\n//# sourceURL=webpack:///./ui/shared/blueprint-courses/react/components/LockManager/LockBanner.js?");

/***/ }),

/***/ "9VqM":
/*!************************************************************************************!*\
  !*** ./ui/shared/blueprint-courses/react/components/LockManager/buildLockProps.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst buildProps = options => Object.assign({\n  assignment: {\n    toggleWrapperSelector: {\n      show: '.assignment-buttons',\n      edit: '.header-bar .header-bar-right .header-group-left'\n    }[options.page],\n    itemIdPath: {\n      show: 'ASSIGNMENT_ID',\n      edit: 'ASSIGNMENT.id'\n    }[options.page]\n  },\n  quiz: {\n    toggleWrapperSelector: {\n      show: '.header-group-left',\n      edit: '.header-bar .header-bar-right .header-group-left'\n    }[options.page],\n    toggleWrapperChildIndex: {\n      edit: 2\n    }[options.page],\n    itemIdPath: 'QUIZ.id'\n  },\n  discussion_topic: {\n    toggleWrapperSelector: {\n      show: '.form-inline .pull-right',\n      edit: '.discussion-edit-header .text-right'\n    }[options.page],\n    itemIdPath: {\n      show: 'DISCUSSION.TOPIC.ID',\n      edit: 'DISCUSSION_TOPIC.ATTRIBUTES.id'\n    }[options.page]\n  },\n  wiki_page: {\n    toggleWrapperSelector: {\n      show: '.blueprint-label'\n    }[options.page],\n    itemIdPath: 'WIKI_PAGE.page_id'\n  }\n}[options.itemType], options);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (buildProps);\n\n//# sourceURL=webpack:///./ui/shared/blueprint-courses/react/components/LockManager/buildLockProps.js?");

/***/ }),

/***/ "HFDK":
/*!********************************************************************************!*\
  !*** ./ui/shared/blueprint-courses/react/components/LockManager/LockToggle.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-tooltip */ \"HU+D\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var with_breakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! with-breakpoints */ \"JGuX\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('blueprint_coursesLockToggle');\nconst modes = {\n  ADMIN_LOCKED: {\n    label: I18n.t('Locked'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintLockSolid\"],\n    tooltip: I18n.t('Unlock'),\n    variant: 'primary'\n  },\n  ADMIN_UNLOCKED: {\n    label: I18n.t('Blueprint'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintSolid\"],\n    tooltip: I18n.t('Lock'),\n    variant: 'default'\n  },\n  ADMIN_WILLUNLOCK: {\n    label: I18n.t('Blueprint'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintSolid\"],\n    tooltip: I18n.t('Unlock'),\n    variant: 'default'\n  },\n  ADMIN_WILLLOCK: {\n    label: I18n.t('Locked'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintLockSolid\"],\n    tooltip: I18n.t('Lock'),\n    variant: 'primary'\n  },\n  TEACH_LOCKED: {\n    label: I18n.t('Locked'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintLockSolid\"]\n  },\n  TEACH_UNLOCKED: {\n    label: I18n.t('Blueprint'),\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconBlueprintSolid\"]\n  }\n};\n\nclass LockToggle extends react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"] {\n  static setupRootNode(wrapperSelector, childIndex, cb) {\n    const toggleNode = document.createElement('span');\n    toggleNode.className = 'bpc-lock-toggle-wrapper'; // sometimes we have to wait for the DOM to settle down first\n\n    const intId = setInterval(() => {\n      const wrapperNode = document.querySelector(wrapperSelector);\n\n      if (wrapperNode) {\n        clearInterval(intId);\n        wrapperNode.insertBefore(toggleNode, wrapperNode.childNodes[childIndex]);\n        cb(toggleNode);\n      }\n    }, 200);\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onEnter = () => {\n      if (this.props.isToggleable) {\n        this.setState({\n          mode: this.props.isLocked ? modes.ADMIN_WILLUNLOCK : modes.ADMIN_WILLLOCK\n        });\n      }\n    };\n\n    this.onExit = () => {\n      if (this.props.isToggleable) {\n        this.setState({\n          mode: this.props.isLocked ? modes.ADMIN_LOCKED : modes.ADMIN_UNLOCKED\n        });\n      }\n    };\n\n    this.state = {};\n    this.toggleBtnRef = null;\n\n    if (props.isToggleable) {\n      this.state.mode = props.isLocked ? modes.ADMIN_LOCKED : modes.ADMIN_UNLOCKED;\n    } else {\n      this.state.mode = props.isLocked ? modes.TEACH_LOCKED : modes.TEACH_UNLOCKED;\n    }\n  }\n\n  componentDidMount() {\n    // Fixing the width of the Toggle button to the biggest possible label to avoid resizing the button\n    const biggestLabelLength = Math.max(...Object.values(modes).map(mode => mode.label.length));\n\n    if (this.toggleBtnRef) {\n      this.toggleBtnRef.style.width = biggestLabelLength * 0.845 + 'em';\n    }\n  }\n\n  render() {\n    const Icon = this.state.mode.icon;\n    const text = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"bpc-lock-toggle__label\"\n    }, this.state.mode.label || '-');\n    let toggle = null;\n\n    if (this.props.isToggleable) {\n      const variant = this.state.mode.variant;\n      const tooltip = this.state.mode.tooltip;\n      const srLabel = this.props.isLocked ? I18n.t('Locked. Click to unlock.') : I18n.t('Unlocked. Click to lock.');\n      toggle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__[\"Tooltip\"], {\n        renderTip: tooltip,\n        placement: \"top\",\n        color: \"primary\",\n        on: ['hover', 'focus']\n      }, this.props.breakpoints.miniTablet ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n        id: \"lock-toggle-btn\",\n        elementRef: r => this.toggleBtnRef = r,\n        variant: variant,\n        onClick: this.props.onClick,\n        onFocus: this.onEnter,\n        onBlur: this.onExit,\n        onMouseEnter: this.onEnter,\n        onMouseLeave: this.onExit,\n        \"aria-pressed\": this.props.isLocked\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Icon, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__[\"PresentationContent\"], null, text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__[\"ScreenReaderContent\"], null, srLabel)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], {\n        color: variant === 'primary' ? variant : null,\n        onClick: this.props.onClick,\n        onFocus: this.onEnter,\n        onBlur: this.onExit,\n        onMouseEnter: this.onEnter,\n        onMouseLeave: this.onExit,\n        \"aria-pressed\": this.props.isLocked,\n        screenReaderLabel: srLabel\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Icon, null)));\n    } else {\n      toggle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n        className: \"bpc__lock-no__toggle\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n        className: \"bpc__lock-no__toggle-icon\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Icon, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        size: \"small\"\n      }, text));\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"bpc-lock-toggle\"\n    }, toggle);\n  }\n\n}\n\nLockToggle.propTypes = {\n  isLocked: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  isToggleable: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  breakpoints: with_breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"breakpointsShape\"]\n};\nLockToggle.defaultProps = {\n  isToggleable: false,\n  onClick: () => {},\n  breakpoints: {}\n};\nconst LockToggleWithBreakpoints = Object(with_breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(LockToggle);\nLockToggleWithBreakpoints.setupRootNode = LockToggle.setupRootNode;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LockToggleWithBreakpoints);\n\n//# sourceURL=webpack:///./ui/shared/blueprint-courses/react/components/LockManager/LockToggle.js?");

/***/ }),

/***/ "JGuX":
/*!************************************************!*\
  !*** ./packages/with-breakpoints/src/index.js ***!
  \************************************************/
/*! exports provided: BREAKPOINTS, breakpointsShape, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BREAKPOINTS\", function() { return BREAKPOINTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"breakpointsShape\", function() { return breakpointsShape; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_responsive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-responsive */ \"r1Ut\");\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n // from _breakpoints.scss\n\nconst BREAKPOINTS = {\n  miniTablet: {\n    minWidth: '500px'\n  },\n  tablet: {\n    minWidth: '768px'\n  },\n  desktop: {\n    minWidth: '992px'\n  },\n  desktopNavOpen: {\n    minWidth: '1140px'\n  },\n  desktopOnly: {\n    minWidth: '768px'\n  },\n  mobileOnly: {\n    maxWidth: '767px'\n  }\n};\n\nconst convertMatchesToProp = matches => {\n  const breakpoints = {};\n  matches.forEach(match => breakpoints[match] = true);\n  return breakpoints;\n};\n\nconst WithBreakpoints = Component => props => {\n  if (window.matchMedia) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_responsive__WEBPACK_IMPORTED_MODULE_2__[\"Responsive\"], {\n      match: \"media\",\n      query: BREAKPOINTS,\n      render: (_addedProps, matches) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, Object.assign({\n        breakpoints: convertMatchesToProp(matches)\n      }, props))\n    });\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, Object.assign({\n      breakpoints: {}\n    }, props));\n  }\n};\n\nconst breakpointsShape = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({\n  miniTablet: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  tablet: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  desktop: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  desktopNavOpen: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  desktopOnly: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  mobileOnly: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (WithBreakpoints);\n\n//# sourceURL=webpack:///./packages/with-breakpoints/src/index.js?");

/***/ }),

/***/ "L2KU":
/*!******************************************************************!*\
  !*** ./packages/link-header-parsing/parseLinkHeaderFromAxios.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * This is a version of ./parseLinkHeaderFromXHR\n * designed to work with axios instead of jQuery.\n *\n */\n\nconst regex = /<(http.*?)>; rel=\"([a-z]*)\"/g\n\nconst parseLinkHeader = axiosResponse => {\n  const links = {}\n  const header = axiosResponse.headers ? axiosResponse.headers.link : null\n  if (!header) {\n    return links\n  }\n  let link = regex.exec(header)\n  while (link) {\n    links[link[2]] = link[1]\n    link = regex.exec(header)\n  }\n  return links\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parseLinkHeader);\n\n\n//# sourceURL=webpack:///./packages/link-header-parsing/parseLinkHeaderFromAxios.js?");

/***/ }),

/***/ "poaC":
/*!********************************************************!*\
  !*** ./ui/shared/blueprint-courses/react/apiClient.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var link_header_parsing_parseLinkHeaderFromAxios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! link-header-parsing/parseLinkHeaderFromAxios */ \"L2KU\");\n/* harmony import */ var _migrationStates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./migrationStates */ \"rf2n\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst ApiClient = {\n  _depaginate(url, maxPages = Infinity, allResults = []) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url).then(res => {\n      const results = allResults.concat(res.data);\n      const remainingPages = maxPages - 1;\n\n      if (res.headers.link && remainingPages > 0) {\n        const links = Object(link_header_parsing_parseLinkHeaderFromAxios__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(res);\n\n        if (links.next) {\n          return this._depaginate(links.next, remainingPages, results);\n        }\n      }\n\n      res.data = results;\n      return res;\n    });\n  },\n\n  _queryString(params) {\n    return params.map(param => {\n      const key = Object.keys(param)[0];\n      const value = param[key];\n      return value ? `${key}=${value}` : null;\n    }).filter(param => !!param).join('&');\n  },\n\n  getCourses({\n    accountId\n  }, {\n    search = '',\n    term = '',\n    subAccount = ''\n  } = {}) {\n    const params = this._queryString([{\n      per_page: '100'\n    }, {\n      blueprint: 'false'\n    }, {\n      blueprint_associated: 'false'\n    }, {\n      'include[]': 'term'\n    }, {\n      'include[]': 'teachers'\n    }, {\n      teacher_limit: '5'\n    }, {\n      search_term: search\n    }, {\n      enrollment_term_id: term\n    }]);\n\n    return this._depaginate(`/api/v1/accounts/${subAccount || accountId}/courses?${params}`, 1);\n  },\n\n  getAssociations({\n    masterCourse\n  }) {\n    const params = this._queryString([{\n      per_page: '100'\n    }, {\n      teacher_limit: '5'\n    }]);\n\n    return this._depaginate(`/api/v1/courses/${masterCourse.id}/blueprint_templates/default/associated_courses?${params}`);\n  },\n\n  saveAssociations({\n    masterCourse,\n    addedAssociations,\n    removedAssociations\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(`/api/v1/courses/${masterCourse.id}/blueprint_templates/default/update_associations`, {\n      course_ids_to_add: addedAssociations.map(c => c.id),\n      course_ids_to_remove: removedAssociations.map(c => c.id)\n    });\n  },\n\n  getMigrations({\n    masterCourse\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/v1/courses/${masterCourse.id}/blueprint_templates/default/migrations`);\n  },\n\n  beginMigration({\n    masterCourse,\n    willSendNotification,\n    willIncludeCustomNotificationMessage,\n    notificationMessage,\n    willIncludeCourseSettings,\n    willPublishCourses\n  }) {\n    const params = {\n      send_notification: willSendNotification\n    };\n\n    if (willIncludeCourseSettings) {\n      params.copy_settings = true; // don't send parameter if not checked\n    }\n\n    if (willIncludeCustomNotificationMessage && notificationMessage) {\n      params.comment = notificationMessage;\n    }\n\n    if (willPublishCourses) {\n      params.publish_after_initial_sync = true;\n    }\n\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`/api/v1/courses/${masterCourse.id}/blueprint_templates/default/migrations`, params);\n  },\n\n  checkMigration(state) {\n    return this.getMigrations(state).then(res => {\n      let status = _migrationStates__WEBPACK_IMPORTED_MODULE_2__[\"default\"].void;\n\n      if (res.data[0]) {\n        status = res.data[0].workflow_state;\n      }\n\n      res.data = status;\n      return res;\n    });\n  },\n\n  getMigration({\n    course\n  }, {\n    blueprintType = 'blueprint_templates',\n    templateId = 'default',\n    changeId\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/v1/courses/${course.id}/${blueprintType}/${templateId}/migrations/${changeId}`);\n  },\n\n  getMigrationDetails({\n    course\n  }, {\n    blueprintType = 'blueprint_templates',\n    templateId = 'default',\n    changeId\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/v1/courses/${course.id}/${blueprintType}/${templateId}/migrations/${changeId}/details`);\n  },\n\n  getFullMigration({\n    course\n  }, params) {\n    return this.getMigration({\n      course\n    }, params).then(({\n      data\n    }) => this.getMigrationDetails({\n      course\n    }, params).then(res => Object.assign(data, {\n      changeId: params.changeId,\n      changes: res.data\n    })));\n  },\n\n  getSyncHistory({\n    masterCourse\n  }) {\n    return this.getMigrations({\n      masterCourse\n    }).then(({\n      data\n    }) => Promise.all( // limit to last 5 migrations\n    data.slice(0, 5).map(mig => this.getMigrationDetails({\n      course: masterCourse\n    }, {\n      changeId: mig.id\n    }).then(res => Object.assign(mig, {\n      changes: res.data\n    })))));\n  },\n\n  toggleLocked({\n    courseId,\n    itemType,\n    itemId,\n    isLocked\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(`/api/v1/courses/${courseId}/blueprint_templates/default/restrict_item`, {\n      content_type: itemType,\n      content_id: itemId,\n      restricted: isLocked\n    });\n  },\n\n  loadUnsyncedChanges({\n    masterCourse\n  }) {\n    return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/v1/courses/${masterCourse.id}/blueprint_templates/default/unsynced_changes`);\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ApiClient);\n\n//# sourceURL=webpack:///./ui/shared/blueprint-courses/react/apiClient.js?");

/***/ })

}]);