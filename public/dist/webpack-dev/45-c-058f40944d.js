(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[45],{

/***/ "AtY9":
/*!*****************************************************************!*\
  !*** ./ui/shared/tinymce-external-tools/ExternalToolsHelper.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('ExternalToolsPlugin'); // setting ENV.MAX_MRU_LTI_TOOLS can make it easier to test\n\nconst MAX_MRU_LTI_TOOLS = ENV.MAX_MRU_LTI_TOOLS || 5;\n/**\n * A module for holding helper functions pulled out of the instructure_external_tools/plugin.\n *\n * This should make it easy to seperate and test logic as this evolves\n * without splitting out another module, and since the plugin gets\n * registered with tinymce rather than returned, we can return this\n * object at the end of the module definition as an export for unit testing.\n *\n * @exports\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  /**\n   * build the TinyMCE configuration hash for each\n   * LTI button.  Call once for each button to add\n   * to the toolbar\n   *\n   * the \"widget\" and \"btn\" classes are what tinymce\n   * provides by default and the theme makes use of them,\n   * if you don't include them than our custom class\n   * overwrites the default classes and all the styles break\n   *\n   * @param {Hash (representing a button)} button a collection of name, id,\n   *   icon_url to use for building the right config for an external plugin\n   *\n   * @returns {Hash} appropriate configuration for a tinymce addButton call,\n   *   complete with title, cmd, image, and classes\n   */\n  buttonConfig(button, editor) {\n    const config = {\n      title: button.name,\n      classes: 'widget btn instructure_external_tool_button'\n    };\n    config.id = button.id;\n\n    config.onAction = () => {\n      editor.execCommand(`instructureExternalButton${button.id}`);\n      this.updateMRUList(button.id);\n      this.showHideButtons(editor);\n    };\n\n    config.description = button.description;\n    config.favorite = button.favorite;\n    config.image = button.icon_url;\n    return config;\n  },\n\n  showHideButtons(ed) {\n    const label = I18n.t('Apps');\n    const menubutton = ed.$(ed.editorContainer.querySelector(`.tox-tbtn--select[aria-label=\"${label}\"]`));\n    const button = ed.$(ed.editorContainer.querySelector(`.tox-tbtn[aria-label=\"${label}\"]`));\n    menubutton.attr('aria-hidden', 'false');\n    button.attr('aria-hidden', 'true');\n  },\n\n  updateMRUList(toolId) {\n    let mrulist;\n\n    try {\n      var _window$localStorage;\n\n      mrulist = JSON.parse(((_window$localStorage = window.localStorage) === null || _window$localStorage === void 0 ? void 0 : _window$localStorage.getItem('ltimru')) || '[]');\n    } catch (ex) {\n      // eslint-disable-next-line no-console\n      console.log('Found bad LTI MRU data', ex.message);\n    } finally {\n      if (!Array.isArray(mrulist)) {\n        mrulist = [];\n      }\n    }\n\n    try {\n      if (!mrulist.includes(toolId)) {\n        var _window$localStorage2;\n\n        mrulist.unshift(toolId);\n        mrulist.splice(MAX_MRU_LTI_TOOLS, mrulist.length);\n        (_window$localStorage2 = window.localStorage) === null || _window$localStorage2 === void 0 ? void 0 : _window$localStorage2.setItem('ltimru', JSON.stringify(mrulist));\n      }\n    } catch (ex) {\n      // swallow it\n      // eslint-disable-next-line no-console\n      console.log('Cannot save LTI MRU list', ex.message);\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/tinymce-external-tools/ExternalToolsHelper.js?");

/***/ }),

/***/ "FNQM":
/*!*********************************************!*\
  !*** ./ui/shared/rce/loadEventListeners.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return loadEventListeners; });\n/* harmony import */ var _canvas_tinymce_external_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/tinymce-external-tools */ \"u7sk\");\n/* harmony import */ var browser_sniffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! browser-sniffer */ \"ik22\");\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_2__[\"useScope\"])('loadEventListeners');\nfunction loadEventListeners(callbacks = {}) {\n  const validCallbacks = ['equationCB', 'equellaCB', 'externalToolCB'];\n  validCallbacks.forEach(cbName => {\n    if (callbacks[cbName] === undefined) {\n      callbacks[cbName] = function () {\n        /* no-op */\n      };\n    }\n  });\n  document.addEventListener('tinyRCE/initEquation', ({\n    detail\n  }) => {\n    Promise.all(/*! import() */[__webpack_require__.e(5), __webpack_require__.e(8), __webpack_require__.e(14), __webpack_require__.e(31), __webpack_require__.e(3734)]).then(__webpack_require__.bind(null, /*! ./backbone/views/EquationEditorView */ \"dIBj\")).then(({\n      default: EquationEditorView\n    }) => {\n      const view = new EquationEditorView(detail.ed);\n      callbacks.equationCB(view);\n    }).catch(Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_3__[\"showFlashError\"])(I18n.t('Something went wrong loading the equation editor')));\n  });\n  document.addEventListener('tinyRCE/initEquella', e => {\n    Promise.all(/*! import() */[__webpack_require__.e(5), __webpack_require__.e(8), __webpack_require__.e(3851)]).then(__webpack_require__.bind(null, /*! @canvas/tinymce-equella */ \"IOhY\")).then(({\n      default: initializeEquella\n    }) => {\n      initializeEquella(e.detail.ed);\n      callbacks.equellaCB();\n    }).catch(Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_3__[\"showFlashError\"])(I18n.t('Something went wrong loading Equella')));\n  });\n  document.addEventListener('tinyRCE/initExternalTools', e => {\n    _canvas_tinymce_external_tools__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(e.detail.ed, e.detail.url, browser_sniffer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    callbacks.externalToolCB();\n  });\n}\n\n//# sourceURL=webpack:///./ui/shared/rce/loadEventListeners.js?");

/***/ }),

/***/ "JiFB":
/*!*****************************************!*\
  !*** ./ui/shared/rce/tinymce.config.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EditorConfig; });\n/* harmony import */ var _canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/rtlHelper */ \"uYtQ\");\n/* harmony import */ var _instructure_canvas_rce_es_defaultTinymceConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/canvas-rce/es/defaultTinymceConfig */ \"ErZx\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nclass EditorConfig {\n  /**\n   * Create an editor config instance, with some internal state passed in\n   *   so the object knows how to generate a dynamic hash of default\n   *   configuration parameters.  May get overridden by merging\n   *   with another hash of overwriting config parameters.\n   *\n   *  @param {tinymce} tinymce the tinymce global which we use to pull\n   *    some config info off of like the BaseURL for refrencing the skin css\n   *  @param {INST} inst a config hash defined in public/javascripts/INST.js,\n   *    provides feature information like whether notorious is enabled for\n   *    their account.  Generally you can just pass it in after requiring it.\n   *  @param {int} width The width of the viewport the editor is in, this is\n   *    useful for deciding how many buttons to show per toolbar line\n   *  @param {string} domId the \"id\" attribute of the element that's going\n   *    to be transformed with a tinymce editor\n   *\n   *  @exports\n   *  @constructor\n   *  @return {EditorConfig}\n   */\n  constructor(tinymce, inst, width, domId) {\n    this.baseURL = tinymce.baseURL;\n    this.extraButtons = inst.editorButtons;\n    this.instConfig = inst;\n    this.viewportWidth = width;\n    this.idAttribute = domId;\n  }\n  /**\n   * export an appropriate config hash for this config instance.\n   * This returns a simple javascript object with our default\n   * configuration parameters enabled.  You can override\n   * any configuration parameters you want by combining this hash\n   * with an override hash at runtime using \"$.extend\" or similar:\n   *\n   *   var overrides = { resize: false };\n   *   var tinyOptions = $.extend(editorConfig.defaultConfig(), overrides);\n   *   tinymce.init(tinyOptions);\n   *\n   * @return {Hash}\n   */\n\n\n  defaultConfig() {\n    var _window$ENV$FEATURES;\n\n    return { ..._instructure_canvas_rce_es_defaultTinymceConfig__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n      body_class: (_window$ENV$FEATURES = window.ENV.FEATURES) !== null && _window$ENV$FEATURES !== void 0 && _window$ENV$FEATURES.canvas_k6_theme || window.ENV.K5_SUBJECT_COURSE || window.ENV.K5_HOMEROOM_COURSE ? 'elementary-theme' : 'default-theme',\n      selector: `#${this.idAttribute}`,\n      directionality: Object(_canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_0__[\"getDirection\"])(),\n      // RCEWrapper includes instructure_equation, so it shouldn't be necessary here\n      // but if I leave it out equation_spec.rb and new_ui_spec selenium specs fail\n      // in jenkins (but not locally) and I can't explain why. Doesn't hurt to put it here\n      plugins: ['instructure_equation'],\n      content_css: window.ENV.url_to_what_gets_loaded_inside_the_tinymce_editor_css,\n      style_formats: [{\n        title: 'Heading 2',\n        format: 'h2'\n      }, {\n        title: 'Heading 3',\n        format: 'h3'\n      }, {\n        title: 'Heading 4',\n        format: 'h4'\n      }, {\n        title: 'Heading 5',\n        format: 'h5'\n      }, {\n        title: 'Heading 6',\n        format: 'h6'\n      }],\n      init_instance_callback: ed => {\n        $(`#tinymce-parent-of-${ed.id}`) // eslint-disable-line no-undef\n        .css('visibility', 'visible');\n      },\n      // if kalturaSettings is missing, we have no kaltura to upload to\n      // if present, user may have chosen to hide the button anyway.\n      show_media_upload: !!INST.kalturaSettings && !INST.kalturaSettings.hide_rte_button\n    };\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/rce/tinymce.config.js?");

/***/ }),

/***/ "TiZd":
/*!*******************************************!*\
  !*** ./ui/shared/rce/shouldUseFeature.ts ***!
  \*******************************************/
/*! exports provided: Feature, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Feature\", function() { return Feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return shouldUseFeature; });\n/*\n * Copyright (C) 2022 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nlet Feature;\n\n(function (Feature) {\n  Feature[Feature[\"ButtonsAndIcons\"] = 0] = \"ButtonsAndIcons\";\n})(Feature || (Feature = {}));\n\nfunction shouldUseFeature(feature, windowEnv) {\n  switch (feature) {\n    case Feature.ButtonsAndIcons:\n      return shouldUseButtonsAndIcons(windowEnv);\n\n    default:\n      return false;\n  }\n}\n\nfunction shouldUseButtonsAndIcons(windowEnv) {\n  var _window$ENV, _window$ENV$FEATURES;\n\n  return !!(windowEnv.RICH_CONTENT_CAN_UPLOAD_FILES && windowEnv.RICH_CONTENT_CAN_EDIT_FILES && (_window$ENV = window.ENV) !== null && _window$ENV !== void 0 && (_window$ENV$FEATURES = _window$ENV.FEATURES) !== null && _window$ENV$FEATURES !== void 0 && _window$ENV$FEATURES.buttons_and_icons_root_account);\n}\n\n//# sourceURL=webpack:///./ui/shared/rce/shouldUseFeature.ts?");

/***/ }),

/***/ "eVns":
/*!**************************************!*\
  !*** ./ui/shared/rce/getRCSProps.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getRCSProps; });\n/* harmony import */ var _jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jwt */ \"yZiY\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction getRCSProps() {\n  var _ENV$FEATURES;\n\n  if (!ENV.context_asset_string) {\n    return null;\n  }\n\n  let [contextType, contextId] = Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ENV.context_asset_string, false);\n  const userId = ENV.current_user_id;\n  const containingContext = {\n    contextType,\n    contextId,\n    userId\n  }; // set in rich_content.rb if user has :manage_files_add right\n  // though comment says it may (eventually) be in the jwt\n  // TODO: look into that.\n\n  const canUploadFiles = ENV.RICH_CONTENT_CAN_UPLOAD_FILES;\n\n  if (!canUploadFiles || contextType === 'account') {\n    contextId = userId;\n    contextType = 'user';\n  }\n\n  return {\n    canUploadFiles: ENV.RICH_CONTENT_CAN_UPLOAD_FILES,\n    containingContext,\n    // this will remain constant\n    contextType,\n    // these will change via the UI\n    contextId,\n    filesTabDisabled: ENV.RICH_CONTENT_FILES_TAB_DISABLED,\n    host: ENV.RICH_CONTENT_APP_HOST,\n    jwt: ENV.JWT,\n    refreshToken: Object(_jwt__WEBPACK_IMPORTED_MODULE_0__[\"refreshFn\"])(ENV.JWT),\n    themeUrl: ENV.active_brand_config_json_url,\n    canvasUrl: ENV.DEEP_LINKING_POST_MESSAGE_ORIGIN,\n    features: {\n      buttons_and_icons_cropper: (_ENV$FEATURES = ENV.FEATURES) === null || _ENV$FEATURES === void 0 ? void 0 : _ENV$FEATURES.buttons_and_icons_cropper\n    }\n  };\n}\n\n//# sourceURL=webpack:///./ui/shared/rce/getRCSProps.js?");

/***/ }),

/***/ "stQK":
/*!**************************************************!*\
  !*** ./ui/shared/util/closedCaptionLanguages.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('closedCaptionLanguages');\nconst closedCaptionLanguages = {\n  get af() {\n    return I18n.t('Afrikaans');\n  },\n\n  get sq() {\n    return I18n.t('Albanian');\n  },\n\n  get ar() {\n    return I18n.t('Arabic');\n  },\n\n  get be() {\n    return I18n.t('Belarusian');\n  },\n\n  get bg() {\n    return I18n.t('Bulgarian');\n  },\n\n  get ca() {\n    return I18n.t('Catalan');\n  },\n\n  get zh() {\n    return I18n.t('Chinese');\n  },\n\n  get hr() {\n    return I18n.t('Croatian');\n  },\n\n  get cs() {\n    return I18n.t('Czech');\n  },\n\n  get da() {\n    return I18n.t('Danish');\n  },\n\n  get nl() {\n    return I18n.t('Dutch');\n  },\n\n  get en() {\n    return I18n.t('English');\n  },\n\n  get et() {\n    return I18n.t('Estonian');\n  },\n\n  get fl() {\n    return I18n.t('Filipino');\n  },\n\n  get fi() {\n    return I18n.t('Finnish');\n  },\n\n  get fr() {\n    return I18n.t('French');\n  },\n\n  get gl() {\n    return I18n.t('Galician');\n  },\n\n  get de() {\n    return I18n.t('German');\n  },\n\n  get el() {\n    return I18n.t('Greek');\n  },\n\n  get ht() {\n    return I18n.t('Haitian Creole');\n  },\n\n  get hi() {\n    return I18n.t('Hindi');\n  },\n\n  get hu() {\n    return I18n.t('Hungarian');\n  },\n\n  get is() {\n    return I18n.t('Icelandic');\n  },\n\n  get id() {\n    return I18n.t('Indonesian');\n  },\n\n  get ga() {\n    return I18n.t('Irish');\n  },\n\n  get it() {\n    return I18n.t('Italian');\n  },\n\n  get ja() {\n    return I18n.t('Japanese');\n  },\n\n  get ko() {\n    return I18n.t('Korean');\n  },\n\n  get lv() {\n    return I18n.t('Latvian');\n  },\n\n  get lt() {\n    return I18n.t('Lithuanian');\n  },\n\n  get mk() {\n    return I18n.t('Macedonian');\n  },\n\n  get ms() {\n    return I18n.t('Malay');\n  },\n\n  get mt() {\n    return I18n.t('Maltese');\n  },\n\n  get no() {\n    return I18n.t('Norwegian');\n  },\n\n  get fa() {\n    return I18n.t('Persian');\n  },\n\n  get pl() {\n    return I18n.t('Polish');\n  },\n\n  get pt() {\n    return I18n.t('Portuguese');\n  },\n\n  get ro() {\n    return I18n.t('Romanian');\n  },\n\n  get ru() {\n    return I18n.t('Russian');\n  },\n\n  get sr() {\n    return I18n.t('Serbian');\n  },\n\n  get sk() {\n    return I18n.t('Slovak');\n  },\n\n  get sl() {\n    return I18n.t('Slovenian');\n  },\n\n  get es() {\n    return I18n.t('Spanish');\n  },\n\n  get sw() {\n    return I18n.t('Swahili');\n  },\n\n  get sv() {\n    return I18n.t('Swedish');\n  },\n\n  get tl() {\n    return I18n.t('Tagalog');\n  },\n\n  get th() {\n    return I18n.t('Thai');\n  },\n\n  get tr() {\n    return I18n.t('Turkish');\n  },\n\n  get uk() {\n    return I18n.t('Ukrainian');\n  },\n\n  get vi() {\n    return I18n.t('Vietnamese');\n  },\n\n  get cy() {\n    return I18n.t('Welsh');\n  },\n\n  get yi() {\n    return I18n.t('Yiddish');\n  },\n\n  get 'en-CA'() {\n    return I18n.t('English (Canada)');\n  },\n\n  // added when we expanded CC languages to all\n  // those supported in canvas\n  get 'en-AU'() {\n    return I18n.t('English (Australia)');\n  },\n\n  get 'en-GB'() {\n    return I18n.t('English (United Kingdom)');\n  },\n\n  get 'fr-CA'() {\n    return I18n.t('French (Canada)');\n  },\n\n  get he() {\n    return I18n.t('Hebrew');\n  },\n\n  get hy() {\n    return I18n.t('Armenian');\n  },\n\n  get mi() {\n    return I18n.t('Māori (New Zealand)');\n  },\n\n  get nb() {\n    return I18n.t('Norwegian Bokmål');\n  },\n\n  get nn() {\n    return I18n.t('Norwegian Nynorsk');\n  },\n\n  get 'zh-Hans'() {\n    return I18n.t('Chinese Simplified');\n  },\n\n  get 'zh-Hant'() {\n    return I18n.t('Chinese Traditional');\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (closedCaptionLanguages);\n\n//# sourceURL=webpack:///./ui/shared/util/closedCaptionLanguages.js?");

/***/ }),

/***/ "u7sk":
/*!***************************************************!*\
  !*** ./ui/shared/tinymce-external-tools/index.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _ExternalToolsHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ExternalToolsHelper */ \"AtY9\");\n/* harmony import */ var _canvas_external_apps_iframeAllowances__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/external-apps/iframeAllowances */ \"dDTa\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('ExternalToolsPlugin');\nconst TRANSLATIONS = {\n  get more_external_tools() {\n    return Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(I18n.t('more_external_tools', 'More External Tools'));\n  }\n\n};\nconst ExternalToolsPlugin = {\n  init(ed, url, _INST) {\n    if (!_INST || !_INST.editorButtons || !_INST.editorButtons.length) {\n      return;\n    }\n\n    let dialog = {\n      // if somehow open gets called early, keep trying until it is ready\n      open: (...args) => setTimeout(() => dialog.open(...args), 50)\n    };\n    Promise.all(/*! import() */[__webpack_require__.e(16), __webpack_require__.e(15), __webpack_require__.e(17), __webpack_require__.e(20), __webpack_require__.e(21), __webpack_require__.e(22), __webpack_require__.e(24), __webpack_require__.e(29), __webpack_require__.e(33), __webpack_require__.e(51), __webpack_require__.e(74), __webpack_require__.e(83), __webpack_require__.e(3735)]).then(__webpack_require__.bind(null, /*! ./react/components/ExternalToolDialog */ \"PrO8\")).then(({\n      default: ExternalToolDialog\n    }) => {\n      const dialogContainer = document.createElement('div');\n      document.body.appendChild(dialogContainer);\n      react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ExternalToolDialog, {\n        win: window,\n        editor: ed,\n        contextAssetString: ENV.context_asset_string,\n        iframeAllowances: Object(_canvas_external_apps_iframeAllowances__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n        resourceSelectionUrl: jquery__WEBPACK_IMPORTED_MODULE_1___default()('#context_external_tool_resource_selection_url').attr('href'),\n        deepLinkingOrigin: ENV.DEEP_LINKING_POST_MESSAGE_ORIGIN\n      }), dialogContainer, function () {\n        dialog = this;\n      });\n    });\n    const ltiButtons = [];\n\n    for (let idx = 0; _INST.editorButtons && idx < _INST.editorButtons.length; idx++) {\n      const current_button = _INST.editorButtons[idx]; // eslint-disable-next-line no-loop-func\n\n      const openDialog = () => dialog.open(current_button);\n\n      ltiButtons.push(_ExternalToolsHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].buttonConfig(current_button, ed));\n      ed.addCommand(`instructureExternalButton${current_button.id}`, openDialog);\n    }\n\n    if (ltiButtons.length) {\n      buildFavoriteToolsButtons(ed, ltiButtons);\n      buildMRUMenuButton(ed, ltiButtons);\n      buildMenubarItem(ed, ltiButtons);\n    }\n  }\n\n};\n\nfunction registerToolIcon(ed, button) {\n  if (!button.iconSVG && button.image) {\n    // Sanitize input against XSS\n    const svg = document.createElement('svg');\n    svg.setAttribute('viewBox', '0 0 16 16');\n    svg.setAttribute('version', '1.1');\n    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    const image = document.createElement('image');\n    image.setAttribute('xlink:href', button.image);\n    image.style.width = '100%';\n    image.style.height = '100%';\n    svg.appendChild(image);\n    button.iconSVG = svg.outerHTML;\n    button.icon = `lti_tool_${button.id}`;\n  }\n\n  if (button.iconSVG) {\n    ed.ui.registry.addIcon(button.icon, button.iconSVG);\n  }\n} // What I'd really like to do is start with a plain Apps button in the toolbar\n// and menubar's Tools menu, then replace it with a menu button/nested menu item\n// when there are MRU tools but I don't see a way to do that in tinymce.\n// What this does is:\n// for the toolbar: create both buttons and use CSS to show the one we want and hide the other\n// for the item in the menubar's Tools menu: always show a nexted menu. With no MRU tools,\n//    the submenu just shows \"View All\"\n// register the Apps menu item in the menubar's Tools menu\n\n\nfunction buildMenubarItem(ed, ltiButtons) {\n  if (ltiButtons.length) {\n    ed.ui.registry.addNestedMenuItem('lti_tools_menuitem', {\n      text: I18n.t('Apps'),\n      icon: 'lti',\n      getSubmenuItems: () => getLtiMRUItems(ed, ltiButtons)\n    });\n  }\n} // register the favorite lti tools toolbar buttons\n\n\nfunction buildFavoriteToolsButtons(ed, ltiButtons) {\n  ltiButtons.forEach(button => {\n    if (!button.favorite) return;\n    registerToolIcon(ed, button);\n    ed.ui.registry.addButton(`instructure_external_button_${button.id}`, {\n      onAction: button.onAction,\n      tooltip: button.title,\n      icon: button.icon,\n      title: button.title\n    });\n  });\n} // register the Apps toolbar button for when there are MRU apps\n\n\nfunction buildMRUMenuButton(ed, ltiButtons) {\n  const tooltip = I18n.t('Apps');\n  ed.ui.registry.addMenuButton('lti_mru_button', {\n    tooltip,\n    icon: 'lti',\n\n    fetch(callback) {\n      callback(getLtiMRUItems(ed, ltiButtons));\n    },\n\n    onSetup(_api) {\n      _ExternalToolsHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showHideButtons(ed);\n    }\n\n  });\n} // build the array of MRU app menu items\n\n\nfunction getLtiMRUItems(ed, ltiButtons) {\n  const mruMenuItems = [];\n\n  try {\n    const mruIds = JSON.parse(window.localStorage.getItem('ltimru'));\n\n    if (mruIds && Array.isArray(mruIds) && mruIds.length) {\n      const mruButtons = ltiButtons.filter(b => mruIds.includes(b.id));\n      mruButtons.forEach(b => {\n        registerToolIcon(ed, b);\n\n        if (!b.menuItem) {\n          b.menuItem = {\n            type: 'menuitem',\n            text: b.title,\n            icon: b.icon,\n            onAction: b.onAction\n          };\n        }\n\n        mruMenuItems.push(b.menuItem);\n      });\n      mruMenuItems.sort((a, b) => a.text.localeCompare(b.text));\n    }\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('Failed building mru menu', ex.message);\n  } finally {\n    mruMenuItems.push({\n      type: 'menuitem',\n      text: I18n.t('View All'),\n      onAction: () => {\n        const ev = new CustomEvent('tinyRCE/onExternalTools', {\n          detail: {\n            ltiButtons\n          }\n        });\n        document.dispatchEvent(ev);\n      }\n    });\n  }\n\n  return mruMenuItems;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ExternalToolsPlugin);\n\n//# sourceURL=webpack:///./ui/shared/tinymce-external-tools/index.js?");

/***/ }),

/***/ "yZiY":
/*!******************************!*\
  !*** ./ui/shared/rce/jwt.js ***!
  \******************************/
/*! exports provided: refreshFn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refreshFn\", function() { return refreshFn; });\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction refreshFn(initialToken) {\n  let token = initialToken;\n  let promise = null;\n  return done => {\n    if (promise === null) {\n      promise = _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('/api/v1/jwts/refresh', {\n        jwt: token\n      }).then(resp => {\n        promise = null;\n        token = resp.data.token;\n        return token;\n      });\n    }\n\n    if (typeof done === 'function') {\n      promise.then(done);\n    }\n\n    return promise;\n  };\n}\n\n//# sourceURL=webpack:///./ui/shared/rce/jwt.js?");

/***/ })

}]);