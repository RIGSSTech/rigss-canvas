(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["navigation_header"],{

/***/ "1b+i":
/*!***************************************!*\
  !*** ./packages/js-utils/es/index.js ***!
  \***************************************/
/*! exports provided: getPrefetchedXHR, consumePrefetchedXHR, setPrefetchedXHR, clearPrefetchedXHRs, asAxios, asJson, asText, checkStatus, defaultFetchOptions, filterUselessConsoleMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prefetched_xhrs */ \"etQE\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getPrefetchedXHR\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"getPrefetchedXHR\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"consumePrefetchedXHR\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"consumePrefetchedXHR\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setPrefetchedXHR\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"setPrefetchedXHR\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"clearPrefetchedXHRs\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"clearPrefetchedXHRs\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"asAxios\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"asAxios\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"asJson\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"asJson\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"asText\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"asText\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"checkStatus\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"checkStatus\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"defaultFetchOptions\", function() { return _prefetched_xhrs__WEBPACK_IMPORTED_MODULE_0__[\"defaultFetchOptions\"]; });\n\n/* harmony import */ var _filterUselessConsoleMessages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filterUselessConsoleMessages */ \"9UY7\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"filterUselessConsoleMessages\", function() { return _filterUselessConsoleMessages__WEBPACK_IMPORTED_MODULE_1__[\"filterUselessConsoleMessages\"]; });\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n//# sourceURL=webpack:///./packages/js-utils/es/index.js?");

/***/ }),

/***/ "4fRq":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n//# sourceURL=webpack:///./node_modules/uuid/lib/rng-browser.js?");

/***/ }),

/***/ "9UY7":
/*!**************************************************************!*\
  !*** ./packages/js-utils/es/filterUselessConsoleMessages.js ***!
  \**************************************************************/
/*! exports provided: filterUselessConsoleMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterUselessConsoleMessages\", function() { return filterUselessConsoleMessages; });\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst consoleMessagesToIgnore = {\n  error: [// /Failed prop type/, // uncomment if you want to focus on stuff besides propType warnings\n  'Warning: [Focusable] Exactly one tabbable child is required (0 found).', // This is from @instructure/ui-menu, nothing we can do about it ourselves\n  /Function components cannot be given refs\\. Attempts to access this ref will fail[\\s\\S]*in (CanvasInstUIModal|PopoverTrigger)/, /Warning: \\[themeable\\] A theme registry has already been initialized.*/, // from an old discussions edit page\n  /Error: Not implemented: navigation \\(except hash changes\\)/, // Until INSTUI updates FormPropTypes.message\n  // see https://github.com/instructure/instructure-ui/issues/815\n  'Invalid prop `messages[0].text` of type `object` supplied to'],\n  warn: [// Uncomment the following line if all the react 16.9 deprecations are cluttering up\n  // the console and you want to focus on something else\n  // /Please update the following components/,\n  // The build logs have grown to over 250MB so in an interest of being able to use\n  // the build logs at all we're filtering out these general messages.\n  /is deprecated and will be removed/, // '@instructure/ui-select' itself generates this warning, we assume they will figure it out themselves\n  /is experimental and its API could change significantly in a future release/, 'Warning: [Focusable] Exactly one focusable child is required (0 found).', /in Select \\(created by CanvasSelect\\)/, 'created by DateInput', 'created by Editable', // React 16.9+ generates these deprecation warnings but it doesn't do any good to hear about the ones for instUI. We can't do anything about them in this repo\n  // Put any others we can't control here.\n  /Please update the following components:[ (BaseTransition|Billboard|Button|Checkbox|CloseButton|Dialog|Expandable|FileDrop|Flex|FlexItem|FormFieldGroup|FormFieldLabel|FormFieldLayout|FormFieldMessage|FormFieldMessages|Grid|GridCol|GridRow|Heading|InlineSVG|Mask|ModalBody|ModalFooter|ModalHeader|NumberInput|Portal|Query|Responsive|SVGIcon|ScreenReaderContent|SelectOptionsList|SelectField|SelectMultiple|SelectOptionsList|SelectSingle|Spinner|Tab|Text|TextArea|TextInput|TinyMCE|ToggleDetails|ToggleFacade|Transition|TruncateText|View),?]+$/, // output of Pagination component substitutes the component name for the placeholder %s\n  /Please update the following components: %s,Pagination/ // /is deprecated and will be removed/, // uncomment to remove instui deprecation messages\n  // /Translation for/ // uncomment to remove missing translation messages\n  ]\n};\nfunction filterUselessConsoleMessages(originalConsole = console) {\n  Object.keys(consoleMessagesToIgnore).forEach(key => {\n    const original = originalConsole[key];\n\n    originalConsole[key] = function () {\n      const combinedMsg = Array.prototype.join.call(arguments);\n\n      const shouldIgnore = pattern => combinedMsg[typeof pattern === 'string' ? 'includes' : 'match'](pattern);\n\n      if (consoleMessagesToIgnore[key].some(shouldIgnore)) return;\n      return original.apply(this, arguments);\n    };\n  });\n}\n\n//# sourceURL=webpack:///./packages/js-utils/es/filterUselessConsoleMessages.js?");

/***/ }),

/***/ "EcEN":
/*!************************************!*\
  !*** ./node_modules/uuid/index.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var v1 = __webpack_require__(/*! ./v1 */ \"xDdU\");\nvar v4 = __webpack_require__(/*! ./v4 */ \"xk4V\");\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/index.js?");

/***/ }),

/***/ "I2ZF":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/lib/bytesToUuid.js?");

/***/ }),

/***/ "J/Nt":
/*!*************************************************************!*\
  !*** ./ui/features/navigation_header/react/UnreadCounts.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UnreadCounts; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/js-utils */ \"1b+i\");\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n//\n// This component manages \"unread count\" badges on things external to the\n// Navigation component. All it needs is:\n//       targetEl: a DOM node to render the count into\n//       dataUrl: the API endpoint to call to retrieve the unread count.\n//                Its return object is expected to contain an `unread_count`\n//                field with the numeric unread count\n//\n// ... and optionally:\n//       srText: a function to return the text to be spoken by a screen\n//               reader. It passes the unread count as argument.\n//       onUpdate: a function to call when the count is updated.\n//                 It passes the new unread count as argument.\n//       onError: a function to call if the API call fails.\n//                It passes the fetch error as argument. Defaults to just\n//                issuing a console warning.\n//       pollIntervalMs: how often to poll the API for an updated unread\n//                       count. Defaults to 60000ms or one minute.  Use 0 to disable.\n//       allowedAge: how old the saved unread count can be without hitting\n//                   the API for a new value. Defaults to 1/2 the poll interval.\n//       maxTries: how many API failures can occur in a row before we just give\n//                 up entirely and stop updating. Defaults to 5.\n//       useSessionStorage: whether to use local browser session storage for\n//       bool,default true  storing / retrieving unread counts before polling\n//                          the Canvas API.\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_5__[\"useScope\"])('UnreadCounts');\nconst DEFAULT_POLL_INTERVAL = 120000;\n\nfunction storageKeyFor(url) {\n  const m = url.match(/\\/api\\/v1\\/(.*)\\/unread_count/);\n  const tag = (m ? m[1] : 'UNKNOWN').replace(/\\//g, '_');\n  return `unread_count_${window.ENV.current_user_id}_${tag}`;\n}\n\nUnreadCounts.propTypes = {\n  targetEl: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"any\"],\n  onUpdate: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  onError: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  srText: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  dataUrl: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  pollIntervalMs: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n  allowedAge: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n  maxTries: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n  useSessionStorage: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"]\n};\nUnreadCounts.defaultProps = {\n  onUpdate: Function.prototype,\n  onError: msg => {\n    // eslint-disable-next-line no-console\n    console.warn(`Error fetching unread count: ${msg}`);\n  },\n  srText: count => I18n.t('%{count} unread.', {\n    count\n  }),\n  pollIntervalMs: DEFAULT_POLL_INTERVAL,\n  allowedAge: DEFAULT_POLL_INTERVAL / 2,\n  maxTries: 5,\n  useSessionStorage: true\n};\nfunction UnreadCounts(props) {\n  const {\n    targetEl,\n    onUpdate,\n    onError,\n    srText,\n    dataUrl,\n    pollIntervalMs,\n    allowedAge,\n    maxTries,\n    useSessionStorage\n  } = props;\n  const syncState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])({\n    msUntilFirstPoll: 0,\n    savedChecked: false\n  });\n  const [count, setCount] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(NaN); // want to be sure to update at least once\n\n  let error = null; // Can we do anything at all?â€œ\n\n  function ableToRun() {\n    if (!targetEl) return false;\n    if (!window.ENV.current_user_id) return false;\n    if (window.ENV.current_user && window.ENV.current_user.fake_student) return false;\n    return true;\n  }\n\n  function updateParent(n) {\n    if (typeof onUpdate === 'function') onUpdate(n);\n  }\n\n  function startPolling() {\n    let timerId = null;\n    let attempts = 0;\n\n    function cleanup() {\n      if (timerId) clearTimeout(timerId);\n    }\n\n    async function getData() {\n      try {\n        const result = await fetch(dataUrl, _instructure_js_utils__WEBPACK_IMPORTED_MODULE_4__[\"defaultFetchOptions\"]);\n        const resp = await result.json();\n        const unreadCount = parseInt(resp.unread_count, 10);\n\n        if (useSessionStorage) {\n          try {\n            const savedState = JSON.stringify({\n              updatedAt: +new Date(),\n              unreadCount\n            });\n            sessionStorage.setItem(storageKeyFor(dataUrl), savedState);\n          } catch (_ex) {// error in setting storage, no biggie, ignore\n          }\n        }\n\n        if (count !== unreadCount) {\n          setCount(unreadCount);\n          updateParent(unreadCount);\n        }\n\n        attempts = 0;\n        error = null;\n      } catch (e) {\n        error = e;\n      }\n    }\n\n    async function poll() {\n      // if we get here when the page is hidden, don't actually fetch it now, wait until the page is refocused\n      if (document.hidden) {\n        document.addEventListener('visibilitychange', poll, {\n          once: true\n        });\n        return;\n      }\n\n      await getData();\n      attempts += 1;\n      if (attempts < maxTries && pollIntervalMs > 0) timerId = setTimeout(poll, attempts * pollIntervalMs);\n      if (error) onError(`URL=${dataUrl} error text=${error.message}`);\n    }\n\n    if (ableToRun()) {\n      const delay = syncState.current.msUntilFirstPoll; // If polling is disabled, it's also fine to just use the cached value\n\n      if (delay > 0) {\n        if (pollIntervalMs > 0) {\n          timerId = setTimeout(poll, delay);\n        }\n      } else {\n        poll();\n      }\n    }\n\n    return cleanup;\n  }\n\n  function checkSavedValue() {\n    // Get some data from saved history and use it if we can before we start\n    // polling the API. If we do use it, arrange to poll the API only when\n    // the saved value ages out.\n    const savedJson = sessionStorage.getItem(storageKeyFor(dataUrl));\n\n    if (savedJson && ableToRun()) {\n      const saved = JSON.parse(savedJson);\n      const msSinceLastUpdate = new Date() - saved.updatedAt;\n\n      if (msSinceLastUpdate < allowedAge) {\n        if (count !== saved.unreadCount) {\n          setCount(saved.unreadCount);\n          updateParent(saved.unreadCount);\n          syncState.current.msUntilFirstPoll = allowedAge - msSinceLastUpdate;\n        }\n      }\n    }\n\n    syncState.current.savedChecked = true;\n  } // deps is the empty array because we want to fire off the polling exactly once\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(startPolling, []); // If we haven't started polling yet, see if we can use a saved value\n\n  if (useSessionStorage && !syncState.current.savedChecked) checkSavedValue();\n  if (!count) return /*#__PURE__*/Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"createPortal\"])(null, targetEl);\n  return /*#__PURE__*/Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"createPortal\"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__[\"ScreenReaderContent\"], null, srText(count)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__[\"PresentationContent\"], null, count)), targetEl);\n}\n\n//# sourceURL=webpack:///./ui/features/navigation_header/react/UnreadCounts.js?");

/***/ }),

/***/ "Ozhy":
/*!*****************************************************************!*\
  !*** ./ui/features/navigation_header/react/MobileNavigation.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MobileNavigation; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_tray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-tray */ \"l+hM\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_5__[\"useScope\"])('MobileNavigation');\nconst MobileContextMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(12), __webpack_require__.e(16), __webpack_require__.e(23), __webpack_require__.e(25), __webpack_require__.e(30), __webpack_require__.e(32), __webpack_require__.e(3745)]).then(__webpack_require__.bind(null, /*! ./MobileContextMenu */ \"9otE\")));\nconst MobileGlobalMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(5), __webpack_require__.e(8), __webpack_require__.e(12), __webpack_require__.e(14), __webpack_require__.e(16), __webpack_require__.e(15), __webpack_require__.e(17), __webpack_require__.e(18), __webpack_require__.e(19), __webpack_require__.e(23), __webpack_require__.e(25), __webpack_require__.e(28), __webpack_require__.e(29), __webpack_require__.e(30), __webpack_require__.e(32), __webpack_require__.e(37), __webpack_require__.e(41), __webpack_require__.e(43), __webpack_require__.e(47), __webpack_require__.e(44), __webpack_require__.e(45), __webpack_require__.e(48), __webpack_require__.e(49), __webpack_require__.e(56), __webpack_require__.e(54), __webpack_require__.e(61), __webpack_require__.e(76), __webpack_require__.e(93), __webpack_require__.e(117), __webpack_require__.e(3752)]).then(__webpack_require__.bind(null, /*! ./MobileGlobalMenu */ \"xlqh\")));\nclass MobileNavigation extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      globalNavIsOpen: false,\n      contextNavIsOpen: false\n    };\n  }\n\n  componentDidMount() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mobile-header-hamburger').on('touchstart click', Object(prevent_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(() => this.setState({\n      globalNavIsOpen: true\n    })));\n    const arrowIcon = document.getElementById('mobileHeaderArrowIcon');\n    const mobileContextNavContainer = document.getElementById('mobileContextNavContainer');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mobile-header-title.expandable, .mobile-header-arrow').on('touchstart click', Object(prevent_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(() => {\n      this.setState(state => {\n        const contextNavIsOpen = !state.contextNavIsOpen; // gotta do some manual dom manip for the non-react arrow/close icon\n\n        arrowIcon.className = contextNavIsOpen ? 'icon-x' : 'icon-arrow-open-down';\n        mobileContextNavContainer.setAttribute('aria-expanded', contextNavIsOpen);\n        return {\n          contextNavIsOpen\n        };\n      });\n    }));\n  }\n\n  render() {\n    const closeGlobalNav = () => this.setState({\n      globalNavIsOpen: false\n    });\n\n    const spinner = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      display: \"block\",\n      textAlign: \"center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__[\"Spinner\"], {\n      size: \"large\",\n      margin: \"large auto\",\n      renderTitle: () => I18n.t('...Loading')\n    }));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, this.state.globalNavIsOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_tray__WEBPACK_IMPORTED_MODULE_3__[\"Tray\"], {\n      size: \"large\",\n      label: I18n.t('Global Navigation'),\n      open: this.state.globalNavIsOpen,\n      onDismiss: closeGlobalNav,\n      shouldCloseOnDocumentClick: true\n    }, this.state.globalNavIsOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense, {\n      fallback: spinner\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MobileGlobalMenu, {\n      DesktopNavComponent: this.props.DesktopNavComponent,\n      onDismiss: closeGlobalNav\n    }))), this.state.contextNavIsOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense, {\n      fallback: spinner\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MobileContextMenu, {\n      spinner: spinner\n    })));\n  }\n\n}\nMobileNavigation.propTypes = {\n  DesktopNavComponent: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    ensureLoaded: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n    state: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"object\"].isRequired\n  }).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/navigation_header/react/MobileNavigation.js?");

/***/ }),

/***/ "WSx9":
/*!************************************************!*\
  !*** ./ui/features/navigation_header/index.js ***!
  \************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _react_Navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./react/Navigation */ \"fhXD\");\n/* harmony import */ var _react_MobileNavigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./react/MobileNavigation */ \"Ozhy\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_6__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_1__[\"useScope\"])('common'); // #\n// Handle user toggling of nav width\n\nlet navCollapsed = window.ENV.SETTINGS && window.ENV.SETTINGS.collapse_global_nav;\njquery__WEBPACK_IMPORTED_MODULE_0___default()('body').on('click', '#primaryNavToggle', function () {\n  let primaryNavToggleText;\n  navCollapsed = !navCollapsed;\n\n  if (navCollapsed) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').removeClass('primary-nav-expanded');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON('/api/v1/users/self/settings', 'PUT', {\n      collapse_global_nav: true\n    });\n    primaryNavToggleText = I18n.t('Expand global navigation');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr({\n      title: primaryNavToggleText,\n      'aria-label': primaryNavToggleText\n    }); // add .primary-nav-transitions a little late to avoid awkward CSS\n    // transitions when the nav is changing states\n\n    setTimeout(() => {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').addClass('primary-nav-transitions');\n    }, 300);\n  } else {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').removeClass('primary-nav-transitions').addClass('primary-nav-expanded');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON('/api/v1/users/self/settings', 'PUT', {\n      collapse_global_nav: false\n    });\n    primaryNavToggleText = I18n.t('Minimize global navigation');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr({\n      title: primaryNavToggleText,\n      'aria-label': primaryNavToggleText\n    });\n  }\n});\n_instructure_ready__WEBPACK_IMPORTED_MODULE_6___default()(() => {\n  const globalNavTrayContainer = document.getElementById('global_nav_tray_container');\n\n  if (globalNavTrayContainer) {\n    const DesktopNavComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n    const mobileNavComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n    react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_react_Navigation__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      ref: DesktopNavComponent,\n      onDataReceived: () => {\n        var _mobileNavComponent$c;\n\n        return (_mobileNavComponent$c = mobileNavComponent.current) === null || _mobileNavComponent$c === void 0 ? void 0 : _mobileNavComponent$c.forceUpdate();\n      }\n    }), globalNavTrayContainer, () => {\n      const mobileContextNavContainer = document.getElementById('mobileContextNavContainer');\n\n      if (mobileContextNavContainer) {\n        react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_react_MobileNavigation__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          ref: mobileNavComponent,\n          DesktopNavComponent: DesktopNavComponent.current\n        }), mobileContextNavContainer);\n      }\n    });\n  }\n});\n\n//# sourceURL=webpack:///./ui/features/navigation_header/index.js?");

/***/ }),

/***/ "etQE":
/*!*************************************************!*\
  !*** ./packages/js-utils/es/prefetched_xhrs.js ***!
  \*************************************************/
/*! exports provided: getPrefetchedXHR, consumePrefetchedXHR, setPrefetchedXHR, clearPrefetchedXHRs, asAxios, asJson, asText, checkStatus, defaultFetchOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPrefetchedXHR\", function() { return getPrefetchedXHR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"consumePrefetchedXHR\", function() { return consumePrefetchedXHR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPrefetchedXHR\", function() { return setPrefetchedXHR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearPrefetchedXHRs\", function() { return clearPrefetchedXHRs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asAxios\", function() { return asAxios; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asJson\", function() { return asJson; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asText\", function() { return asText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkStatus\", function() { return checkStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultFetchOptions\", function() { return defaultFetchOptions; });\n/* harmony import */ var _instructure_get_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/get-cookie */ \"FOCd\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // These are helpful methods you can use along side the ruby ApplicationHelper::prefetch_xhr helper method in canvas\n\n/**\n * Retrieve the fetch response promise assigned to the given id. This will\n * return `undefined` if there are no prefetched requests or there is no\n * request assigned to the given id. When a request is assigned to the given\n * id, it will remain stored for subsequent retrievals, if needed.\n *\n * @param {String} id\n * @returns {Promise<Response>} fetchResponsePromise\n */\n\nfunction getPrefetchedXHR(id) {\n  return window.prefetched_xhrs && window.prefetched_xhrs[id];\n}\n/**\n * Retrieve the fetch response promise assigned to the given id. This will\n * return `undefined` if there are no prefetched requests or there is no\n * request assigned to the given id. When a request is assigned to the given\n * id, it will be removed from request storage. This is important for requests\n * which are expected to return fresh results upon each request.\n *\n * @param {String} id\n * @returns {Promise<Response>} fetchResponsePromise\n */\n\nfunction consumePrefetchedXHR(id) {\n  if (window.prefetched_xhrs) {\n    const value = window.prefetched_xhrs[id];\n    delete window.prefetched_xhrs[id];\n    return value;\n  }\n\n  return undefined;\n}\n/**\n * Store a fetch response promise assigned to the given id. This function is\n * intended for specs so that they do not need awareness of the implementation\n * details for how prefetched requests are managed.\n *\n * @param {String} id\n * @param {Promise<Response>} fetchResponsePromise\n */\n\nfunction setPrefetchedXHR(id, fetchResponsePromise) {\n  window.prefetched_xhrs = window.prefetched_xhrs || {};\n  window.prefetched_xhrs[id] = fetchResponsePromise;\n}\n/**\n * Remove all prefetched requests from storage. This function is intended for\n * specs so that they can clean up after assertions without needing awareness\n * of the implementation details for how prefetched requests are managed.\n */\n\nfunction clearPrefetchedXHRs() {\n  delete window.prefetched_xhrs;\n}\n/**\n * Transforms a `fetch` request into something that looks like an `axios` response\n * with a `.data` and `.headers` property, so you can pass it to our parseLinkHeaders stuff\n *\n * @param {Promise<Response>} fetchRequest\n * @returns {Promise<import(\"axios\").AxiosResponse>}\n */\n\nfunction asAxios(fetchRequest, type = 'json') {\n  if (!fetchRequest) return;\n  return fetchRequest.then(checkStatus).then(res => res.clone()[type]().then(data => {\n    return {\n      data,\n      headers: {\n        link: res.headers.get('Link')\n      }\n    };\n  }));\n}\n/**\n * Takes a `fetch` request and returns a promise of the json data of the response\n *\n * @param {Promise<Response>} fetchRequest\n * @returns {Promise<JSON_data>}\n */\n\nfunction asJson(fetchRequest) {\n  if (!fetchRequest) return;\n  return fetchRequest.then(checkStatus).then(res => res.clone().json());\n}\n/**\n * Takes a `fetch` request and returns a promise of the text of the response\n *\n * @param {Promise<Response>} fetchRequest\n * @returns {Promise<USVString>}\n */\n\nfunction asText(fetchRequest) {\n  if (!fetchRequest) return;\n  return fetchRequest.then(checkStatus).then(res => res.clone().text());\n}\n/**\n * filter a response to raise an error on a 400+ status\n *\n * @param {Promise<Response>} response\n * @returns {Promise<Response>}\n */\n\nfunction checkStatus(response) {\n  if (response.status < 400) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n} // these are duplicated in application_helper.rb#prefetch_xhr\n// because we don't have a good pattern for sharing them yet.\n// If you change these defaults, you should probably cascade that change\n// to that ruby location\n\nconst defaultFetchOptions = {\n  credentials: 'same-origin',\n  headers: {\n    Accept: 'application/json+canvas-string-ids, application/json',\n    'X-Requested-With': 'XMLHttpRequest',\n    'X-CSRF-Token': Object(_instructure_get_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('_csrf_token')\n  }\n};\n\n//# sourceURL=webpack:///./packages/js-utils/es/prefetched_xhrs.js?");

/***/ }),

/***/ "fhXD":
/*!***********************************************************!*\
  !*** ./ui/features/navigation_header/react/Navigation.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Navigation; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_tray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-tray */ \"l+hM\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _UnreadCounts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UnreadCounts */ \"J/Nt\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var link_header_parsing_parseLinkHeaderFromXHR__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! link-header-parsing/parseLinkHeaderFromXHR */ \"vhl9\");\n/* harmony import */ var _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/tour-pubsub */ \"zSOE\");\n/* harmony import */ var _canvas_observer_picker_ObserverGetObservee__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/observer-picker/ObserverGetObservee */ \"vGBm\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_1__[\"useScope\"])('Navigation');\nconst CoursesTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(12), __webpack_require__.e(15), __webpack_require__.e(23), __webpack_require__.e(37), __webpack_require__.e(3835)]).then(__webpack_require__.bind(null, /*! ./trays/CoursesTray */ \"u48a\")));\nconst GroupsTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(15), __webpack_require__.e(23), __webpack_require__.e(37), __webpack_require__.e(3836)]).then(__webpack_require__.bind(null, /*! ./trays/GroupsTray */ \"wwib\")));\nconst AccountsTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(15), __webpack_require__.e(23), __webpack_require__.e(37), __webpack_require__.e(3834)]).then(__webpack_require__.bind(null, /*! ./trays/AccountsTray */ \"S/PN\")));\nconst ProfileTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(12), __webpack_require__.e(16), __webpack_require__.e(15), __webpack_require__.e(17), __webpack_require__.e(18), __webpack_require__.e(23), __webpack_require__.e(28), __webpack_require__.e(30), __webpack_require__.e(32), __webpack_require__.e(37), __webpack_require__.e(41), __webpack_require__.e(54), __webpack_require__.e(3744)]).then(__webpack_require__.bind(null, /*! ./trays/ProfileTray */ \"yU3J\")));\nconst HistoryTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(5), __webpack_require__.e(8), __webpack_require__.e(12), __webpack_require__.e(14), __webpack_require__.e(15), __webpack_require__.e(18), __webpack_require__.e(19), __webpack_require__.e(23), __webpack_require__.e(25), __webpack_require__.e(37), __webpack_require__.e(47), __webpack_require__.e(45), __webpack_require__.e(48), __webpack_require__.e(49), __webpack_require__.e(56), __webpack_require__.e(76), __webpack_require__.e(93), __webpack_require__.e(3767)]).then(__webpack_require__.bind(null, /*! ./trays/HistoryTray */ \"bSHS\")));\nconst HelpTray = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(12), __webpack_require__.e(16), __webpack_require__.e(15), __webpack_require__.e(17), __webpack_require__.e(23), __webpack_require__.e(25), __webpack_require__.e(28), __webpack_require__.e(29), __webpack_require__.e(30), __webpack_require__.e(32), __webpack_require__.e(37), __webpack_require__.e(43), __webpack_require__.e(61), __webpack_require__.e(117), __webpack_require__.e(3746)]).then(__webpack_require__.bind(null, /*! ./trays/HelpTray */ \"D3Z6\")));\nconst EXTERNAL_TOOLS_REGEX = /^\\/accounts\\/[^\\/]*\\/(external_tools)/;\nconst ACTIVE_ROUTE_REGEX = /^\\/(courses|groups|accounts|grades|calendar|conversations|profile)|^#history/;\nconst ACTIVE_CLASS = 'ic-app-header__menu-list-item--active';\nconst TYPE_URL_MAP = {\n  courses: '/api/v1/users/self/favorites/courses?include[]=term&exclude[]=enrollments&sort=nickname',\n  groups: '/api/v1/users/self/groups?include[]=can_access',\n  accounts: '/api/v1/accounts',\n  profile: '/api/v1/users/self/tabs',\n  history: '/api/v1/users/self/history',\n  help: '/help_links'\n};\nconst TYPE_FILTER_MAP = {\n  groups: group => group.can_access && !group.concluded\n};\nconst RESOURCE_COUNT = 10; // give the trays that slide out from the the nav bar\n// a place to mount. It has to be outside the <div id=application>\n// to aria-hide everything but the tray when open.\n\nlet portal;\n\nfunction getPortal() {\n  if (!portal) {\n    portal = document.createElement('div');\n    portal.id = 'nav-tray-portal'; // the <header> has z-index: 100. This has to be behind it,\n\n    portal.setAttribute('style', 'position: relative; z-index: 99;');\n    document.body.appendChild(portal);\n  }\n\n  return portal;\n}\n\nfunction noop() {}\n\nclass Navigation extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      groups: [],\n      accounts: [],\n      courses: [],\n      help: [],\n      profile: [],\n      unreadSharesCount: 0,\n      isTrayOpen: false,\n      type: null,\n      coursesLoading: false,\n      coursesAreLoaded: false,\n      observedUserId: '',\n      accountsLoading: false,\n      accountsAreLoaded: false,\n      groupsLoading: false,\n      groupsAreLoaded: false,\n      helpLoading: false,\n      helpAreLoaded: false,\n      profileAreLoading: false,\n      profileAreLoaded: false,\n      historyLoading: false,\n      historyAreLoaded: false,\n      releaseNotesBadgeDisabled: !ENV.FEATURES.embedded_release_notes || ENV.SETTINGS.release_notes_badge_disabled\n    };\n\n    this._isLoadedOrLoading = type => this.state[`${type}AreLoaded`] || this.state[`${type}Loading`];\n\n    this.closeTray = () => {\n      this.determineActiveLink(); // Regardless of whether it captured focus before,\n      // we should make sure it does on future openings.\n\n      this.setState({\n        isTrayOpen: false,\n        noFocus: false\n      }, () => {\n        setTimeout(() => {\n          this.setState({\n            type: null\n          });\n        }, 150);\n      });\n    };\n  }\n\n  componentDidMount() {\n    /**\n     * Mount up stuff to our existing DOM elements, yes, it's not very\n     * React-y, but it is workable and maintainable, plus it doesn't require\n     * us to trash what Rails has already rendered.\n     */\n    // ////////////////////////////////\n    // / Click Events\n    // ////////////////////////////////\n    Object.keys(TYPE_URL_MAP).forEach(type => {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(`#global_nav_${type}_link`).on('click', Object(prevent_default__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.handleMenuClick.bind(this, type)));\n    });\n    this.openPublishUnsubscribe = _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__[\"default\"].subscribe('navigation-tray-open', ({\n      type,\n      noFocus\n    }) => {\n      this.ensureLoaded(type);\n      this.openTray(type, noFocus); // If we're already open for the specified type\n      // send a message that we are open.\n\n      if (this.state.isTrayOpen && this.state.type === type) {\n        _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__[\"default\"].publish('navigation-tray-opened', type);\n      }\n    });\n    this.closePublishUnsubscribe = _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__[\"default\"].subscribe('navigation-tray-close', () => {\n      this.closeTray();\n    });\n    this.overrideDismissUnsubscribe = _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__[\"default\"].subscribe('navigation-tray-override-dismiss', tf => {\n      this.setState({\n        overrideDismiss: tf\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.openPublishUnsubscribe && this.openPublishUnsubscribe();\n    this.overrideDismissUnsubscribe && this.overrideDismissUnsubscribe();\n    this.closePublishUnsubscribe && this.closePublishUnsubscribe();\n  }\n\n  componentDidUpdate(_prevProps, prevState) {\n    if (prevState.activeItem !== this.state.activeItem) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(`.${ACTIVE_CLASS}`).removeClass(ACTIVE_CLASS).removeAttr('aria-current');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(`#global_nav_${this.state.activeItem}_link`).closest('li').addClass(ACTIVE_CLASS).attr('aria-current', 'page');\n    }\n  }\n  /**\n   * Given a URL and a type value, it gets the data and updates state.\n   */\n\n\n  getResource(url, type) {\n    this.setState({\n      [`${type}Loading`]: true\n    });\n    this.loadResourcePage(url, type);\n  }\n\n  ensureLoaded(type) {\n    let url = TYPE_URL_MAP[type];\n    if (!url) return; // if going after courses and I'm an observer,\n    // only retrive the courses for my observee\n\n    if (type === 'courses' && ENV.current_user_roles.includes('observer')) {\n      let forceLoad = false;\n      const k5_observed_user_id = Object(_canvas_observer_picker_ObserverGetObservee__WEBPACK_IMPORTED_MODULE_12__[\"savedObservedId\"])(ENV.current_user_id);\n\n      if (k5_observed_user_id) {\n        url = `${url}&observed_user_id=${k5_observed_user_id}`;\n\n        if (k5_observed_user_id !== this.state.observedUserId) {\n          this.setState({\n            observedUserId: k5_observed_user_id,\n            [`${type}AreLoaded}`]: false,\n            [`${type}Loading`]: false\n          });\n          forceLoad = true;\n        }\n      }\n\n      if (forceLoad || !this._isLoadedOrLoading(type)) {\n        this.getResource(url, type);\n      }\n    } else if (!this._isLoadedOrLoading(type)) {\n      this.getResource(url, type);\n    }\n  }\n\n  loadResourcePage(url, type, previousData = []) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.getJSON(url, (data, __, xhr) => {\n      const newData = previousData.concat(this.filterDataForType(data, type)); // queue the next page if we need one\n\n      if (newData.length < RESOURCE_COUNT) {\n        const link = Object(link_header_parsing_parseLinkHeaderFromXHR__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(xhr);\n\n        if (link.next) {\n          this.loadResourcePage(link.next, type, newData);\n          return;\n        }\n      } // finished\n\n\n      this.setState({\n        [type]: newData,\n        [`${type}Loading`]: false,\n        [`${type}AreLoaded`]: true\n      }, this.props.onDataReceived);\n    });\n  }\n\n  filterDataForType(data, type) {\n    const filterFunc = TYPE_FILTER_MAP[type];\n\n    if (typeof filterFunc === 'function') {\n      return data.filter(filterFunc);\n    }\n\n    return data;\n  }\n\n  determineActiveLink() {\n    const path = window.location.pathname;\n    const matchData = path.match(EXTERNAL_TOOLS_REGEX) || path.match(ACTIVE_ROUTE_REGEX);\n    const activeItem = matchData && matchData[1];\n\n    if (!activeItem) {\n      this.setState({\n        activeItem: 'dashboard'\n      });\n    } else {\n      this.setState({\n        activeItem\n      });\n    }\n  }\n\n  handleMenuClick(type) {\n    // Make sure data is loaded up\n    this.ensureLoaded(type);\n\n    if (this.state.isTrayOpen && this.state.activeItem === type) {\n      this.closeTray();\n    } else if (this.state.isTrayOpen && this.state.activeItem !== type) {\n      this.openTray(type);\n    } else {\n      this.openTray(type);\n    }\n  }\n\n  openTray(type, noFocus) {\n    // Sometimes we don't want the tray to capture focus,\n    // so we specify that here.\n    this.setState({\n      type,\n      noFocus,\n      isTrayOpen: true,\n      activeItem: type\n    });\n  }\n\n  renderTrayContent() {\n    var _window$ENV$current_u;\n\n    switch (this.state.type) {\n      case 'courses':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(CoursesTray, {\n          courses: window.ENV.K5_USER && (_window$ENV$current_u = window.ENV.current_user_roles) !== null && _window$ENV$current_u !== void 0 && _window$ENV$current_u.every(role => role === 'student' || role === 'user') ? this.state.courses.filter(c => !c.homeroom_course) : this.state.courses,\n          hasLoaded: this.state.coursesAreLoaded,\n          closeTray: this.closeTray,\n          k5User: window.ENV.K5_USER\n        });\n\n      case 'groups':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(GroupsTray, {\n          groups: this.state.groups,\n          hasLoaded: this.state.groupsAreLoaded,\n          closeTray: this.closeTray\n        });\n\n      case 'accounts':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(AccountsTray, {\n          accounts: this.state.accounts,\n          hasLoaded: this.state.accountsAreLoaded,\n          closeTray: this.closeTray\n        });\n\n      case 'profile':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProfileTray, {\n          userDisplayName: window.ENV.current_user.display_name,\n          userPronouns: window.ENV.current_user.pronouns,\n          userAvatarURL: window.ENV.current_user.avatar_is_fallback ? null : window.ENV.current_user.avatar_image_url,\n          loaded: this.state.profileAreLoaded,\n          tabs: this.state.profile,\n          counts: {\n            unreadShares: this.state.unreadSharesCount\n          }\n        });\n\n      case 'history':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(HistoryTray, {\n          history: this.state.history,\n          hasLoaded: this.state.historyAreLoaded,\n          closeTray: this.closeTray\n        });\n\n      case 'help':\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(HelpTray, {\n          trayTitle: window.ENV.help_link_name,\n          links: this.state.help,\n          hasLoaded: this.state.helpAreLoaded,\n          closeTray: this.closeTray,\n          showNotes: ENV.FEATURES.embedded_release_notes,\n          badgeDisabled: this.state.releaseNotesBadgeDisabled,\n          setBadgeDisabled: val => this.setState({\n            releaseNotesBadgeDisabled: val\n          })\n        });\n\n      default:\n        return null;\n    }\n  }\n\n  getTrayLabel() {\n    switch (this.state.type) {\n      case 'courses':\n        return I18n.t('Courses tray');\n\n      case 'groups':\n        return I18n.t('Groups tray');\n\n      case 'accounts':\n        return I18n.t('Admin tray');\n\n      case 'profile':\n        return I18n.t('Profile tray');\n\n      case 'help':\n        return I18n.t('%{title} tray', {\n          title: window.ENV.help_link_name\n        });\n\n      case 'history':\n        return I18n.t('Recent History tray');\n\n      default:\n        return I18n.t('Global navigation tray');\n    }\n  } // Also have to attend to the unread dot on the mobile view inbox\n\n\n  onInboxUnreadUpdate(unreadCount) {\n    if (this.state.unreadInboxCount !== unreadCount) this.setState({\n      unreadInboxCount: unreadCount\n    });\n    const el = document.getElementById('mobileHeaderInboxUnreadBadge');\n    if (el) el.style.display = unreadCount > 0 ? '' : 'none';\n    if (typeof this.props.onDataReceived === 'function') this.props.onDataReceived();\n  }\n\n  onSharesUnreadUpdate(unreadCount) {\n    if (this.state.unreadSharesCount !== unreadCount) this.setState({\n      unreadSharesCount: unreadCount\n    });\n  }\n\n  inboxUnreadSRText(count) {\n    return I18n.t({\n      one: 'One unread message.',\n      other: '%{count} unread messages.'\n    }, {\n      count\n    });\n  }\n\n  sharesUnreadSRText(count) {\n    return I18n.t({\n      one: 'One unread share.',\n      other: '%{count} unread shares.'\n    }, {\n      count\n    });\n  }\n\n  releaseNotesBadgeText(count) {\n    return I18n.t({\n      one: 'One unread release note.',\n      other: '%{count} release notes.'\n    }, {\n      count\n    });\n  }\n\n  render() {\n    const UnreadComponent = this.props.unreadComponent;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_tray__WEBPACK_IMPORTED_MODULE_4__[\"Tray\"], {\n      key: this.state.type,\n      label: this.getTrayLabel(),\n      size: \"small\",\n      open: this.state.isTrayOpen // We need to override closing trays\n      // so the tour can properly go through them\n      // without them unexpectedly closing.\n      ,\n      onDismiss: this.state.overrideDismiss ? noop : this.closeTray,\n      shouldCloseOnDocumentClick: true,\n      shouldContainFocus: !this.state.noFocus,\n      mountNode: getPortal(),\n      theme: {\n        smallWidth: '28em'\n      },\n      onEntered: () => {\n        _canvas_tour_pubsub__WEBPACK_IMPORTED_MODULE_11__[\"default\"].publish('navigation-tray-opened', this.state.type);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: `navigation-tray-container ${this.state.type}-tray`\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"CloseButton\"], {\n      placement: \"end\",\n      onClick: this.closeTray,\n      screenReaderLabel: I18n.t('Close')\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"tray-with-space-for-global-nav\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Suspense, {\n      fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n        display: \"block\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__[\"Spinner\"], {\n        size: \"large\",\n        margin: \"large auto\",\n        renderTitle: () => I18n.t('Loading')\n      }))\n    }, this.renderTrayContent())))), ENV.DIRECT_SHARE_ENABLED && ENV.current_user_id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(UnreadComponent, {\n      targetEl: this.unreadSharesCountElement || (this.unreadSharesCountElement = document.querySelector('#global_nav_profile_link .menu-item__badge')),\n      dataUrl: \"/api/v1/users/self/content_shares/unread_count\",\n      onUpdate: unreadCount => this.onSharesUnreadUpdate(unreadCount),\n      srText: this.sharesUnreadSRText\n    }), !ENV.current_user_disabled_inbox && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(UnreadComponent, {\n      targetEl: this.unreadInboxCountElement || (this.unreadInboxCountElement = document.querySelector('#global_nav_conversations_link .menu-item__badge')),\n      dataUrl: \"/api/v1/conversations/unread_count\",\n      onUpdate: unreadCount => this.onInboxUnreadUpdate(unreadCount),\n      srText: this.inboxUnreadSRText,\n      useSessionStorage: false\n    }), !this.state.releaseNotesBadgeDisabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(UnreadComponent, {\n      targetEl: this.unreadReleaseNotesCountElement || (this.unreadReleaseNotesCountElement = document.querySelector('#global_nav_help_link .menu-item__badge')),\n      dataUrl: \"/api/v1/release_notes/unread_count\",\n      srText: this.releaseNotesBadgeText // Don't bother re-fetching unless it's at least 5 minutes old\n      ,\n      allowedAge: 5 * 60 * 1000 // Don't poll-this changes rarely enough and new features usually require a page refresh anyways\n      ,\n      pollIntervalMs: 0\n    }));\n  }\n\n}\nNavigation.propTypes = {\n  unreadComponent: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"],\n  // for testing only\n  onDataReceived: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"]\n};\nNavigation.defaultProps = {\n  unreadComponent: _UnreadCounts__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n};\n\n//# sourceURL=webpack:///./ui/features/navigation_header/react/Navigation.js?");

/***/ }),

/***/ "puYM":
/*!*****************************************!*\
  !*** ./ui/shared/tour-pubsub/pubsub.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PubSub; });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"EcEN\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// A simple pubsub engine for sending messages between Canvas components\n\nclass PubSub {\n  constructor() {\n    this.topics = {};\n  }\n\n  subscribe(topic, fn) {\n    if (!this.topics[topic]) this.topics[topic] = {};\n    const id = uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4();\n    this.topics[topic][id] = fn;\n    return () => {\n      this.topics[topic][id] = null;\n      delete this.topics[topic][id];\n    };\n  }\n\n  publish(topic, args) {\n    if (!this.topics[topic]) return;\n    Object.values(this.topics[topic]).forEach(fn => {\n      if (fn) fn(args);\n    });\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/tour-pubsub/pubsub.js?");

/***/ }),

/***/ "vGBm":
/*!**********************************************************!*\
  !*** ./ui/shared/observer-picker/ObserverGetObservee.js ***!
  \**********************************************************/
/*! exports provided: OBSERVER_COOKIE_PREFIX, savedObservedCookieName, savedObservedId, saveObservedId, clearObservedId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OBSERVER_COOKIE_PREFIX\", function() { return OBSERVER_COOKIE_PREFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"savedObservedCookieName\", function() { return savedObservedCookieName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"savedObservedId\", function() { return savedObservedId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveObservedId\", function() { return saveObservedId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearObservedId\", function() { return clearObservedId; });\n/* harmony import */ var _instructure_get_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/get-cookie */ \"FOCd\");\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // cookie name prefixed with k5_ for historical reasons but not exclusively used in k5 mode\n\nconst OBSERVER_COOKIE_PREFIX = 'k5_observed_user_for_';\nconst savedObservedCookieName = currentUserId => `${OBSERVER_COOKIE_PREFIX}${currentUserId}`;\nconst savedObservedId = currentUserId => Object(_instructure_get_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(savedObservedCookieName(currentUserId));\nconst saveObservedId = (currentUserId, observeeId) => {\n  document.cookie = observedCookie(currentUserId, observeeId);\n};\nconst clearObservedId = currentUserId => {\n  document.cookie = `${observedCookie(currentUserId, '')};max-age=-1`;\n};\n\nconst observedCookie = (currentUserId, observeeId) => `${savedObservedCookieName(currentUserId)}=${observeeId};path=/`;\n\n//# sourceURL=webpack:///./ui/shared/observer-picker/ObserverGetObservee.js?");

/***/ }),

/***/ "vhl9":
/*!****************************************************************!*\
  !*** ./packages/link-header-parsing/parseLinkHeaderFromXHR.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parseLinkHeader; });\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst regex = /<(http.*?)>; rel=\"([a-z]*)\"/g\n\nfunction parseLinkHeader(jqXhr) {\n  let link\n  const links = {}\n  const header = jqXhr && jqXhr.getResponseHeader('Link')\n  if (!header) return links\n  while ((link = regex.exec(header))) {\n    links[link[2]] = link[1]\n  }\n  return links\n}\n\n\n//# sourceURL=webpack:///./packages/link-header-parsing/parseLinkHeaderFromXHR.js?");

/***/ }),

/***/ "xDdU":
/*!*********************************!*\
  !*** ./node_modules/uuid/v1.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"4fRq\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"I2ZF\");\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/v1.js?");

/***/ }),

/***/ "xk4V":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"4fRq\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"I2ZF\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/v4.js?");

/***/ }),

/***/ "zSOE":
/*!****************************************!*\
  !*** ./ui/shared/tour-pubsub/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pubsub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pubsub */ \"puYM\");\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst TourPubsub = new _pubsub__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n/* harmony default export */ __webpack_exports__[\"default\"] = (TourPubsub);\n\n//# sourceURL=webpack:///./ui/shared/tour-pubsub/index.js?");

/***/ })

}]);