(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["user_logins"],{

/***/ "897F":
/*!***************************************************!*\
  !*** ./ui/shared/util/jquery/fixDialogButtons.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fixDialogButtons = function () {\n  return this.each(function () {\n    const $dialog = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n    const $buttons = $dialog.find('.button-container:last .btn, button[type=submit]');\n\n    if ($buttons.length) {\n      $dialog.find('.button-container:last, button[type=submit]').hide();\n      let buttons = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.map($buttons.toArray(), button => {\n        const $button = jquery__WEBPACK_IMPORTED_MODULE_0___default()(button);\n        let classes = $button.attr('class') || '';\n        const id = $button.attr('id'); // if you add the class 'dialog_closer' to any of the buttons,\n        // clicking it will cause the dialog to close\n\n        if ($button.is('.dialog_closer')) {\n          $button.off('.fixdialogbuttons');\n          $button.on('click.fixdialogbuttons', Object(prevent_default__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(() => $dialog.dialog('close')));\n        }\n\n        if ($button.prop('type') === 'submit' && $button[0].form) {\n          classes += ' button_type_submit';\n        }\n\n        return {\n          text: $button.text(),\n          'data-text-while-loading': $button.data('textWhileLoading'),\n          click: () => $button.click(),\n          class: classes,\n          id\n        };\n      }); // put the primary button(s) on the far right\n\n      buttons = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.sortBy(buttons, button => button.class.match(/btn-primary/) ? 1 : 0);\n      $dialog.dialog('option', 'buttons', buttons);\n    }\n  });\n};\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/fixDialogButtons.js?");

/***/ }),

/***/ "TvTI":
/*!****************************************!*\
  !*** ./ui/shared/util/templateData.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* replaceTags */\n// Fills the selected object(s) with data values as specified.  Plaintext values should be specified in the\n//  data: data used to fill template.\n//  id: set the id attribute of the template object\n//  textValues: a list of strings, which values should be plaintext\n//  htmlValues: a list of strings, which values should be html\n//  hrefValues: List of string.  Searches for all anchor tags in the template\n//    and globally replaces \"{{ value }}\" with data[value].  Useful for adding\n//    new elements asynchronously, when you don't know what their URL will be\n//    until they're created.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData = function (options) {\n  if (this.length && options) {\n    if (options.iterator) {\n      //  todo: replace .andSelf with .addBack when JQuery is upgraded.\n      this.find('*').andSelf().each(function () {\n        const $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(['name', 'id', 'class'], (i, attr) => {\n          if ($el.attr(attr)) {\n            $el.attr(attr, $el.attr(attr).replace(/-iterator-/, options.iterator));\n          }\n        });\n      });\n    }\n\n    if (options.id) {\n      this.attr('id', options.id);\n    }\n\n    let contentChange = false;\n\n    if (options.data) {\n      for (var item in options.data) {\n        if (options.except && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.except) != -1) {\n          continue;\n        }\n\n        if (options.data[item] && options.dataValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.dataValues) != -1) {\n          this.data(item, options.data[item].toString());\n        }\n\n        const $found_all = this.find('.' + item);\n        var avoid = options.avoid || '';\n        $found_all.each(function () {\n          const $found = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n          if ($found.length > 0 && $found.closest(avoid).length === 0) {\n            if (typeof options.data[item] === 'undefined' || options.data[item] === null) {\n              options.data[item] = '';\n            }\n\n            if (options.htmlValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.htmlValues) != -1) {\n              $found.html(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.raw(options.data[item].toString()));\n\n              if ($found.hasClass('user_content')) {\n                contentChange = true;\n                $found.removeClass('enhanced');\n                $found.data('unenhanced_content_html', options.data[item].toString());\n              }\n            } else if ($found[0].tagName.toUpperCase() == 'INPUT') {\n              $found.val(options.data[item]);\n            } else {\n              try {\n                const str = options.data[item].toString();\n                $found.html(Object(html_escape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(str));\n              } catch (e) {}\n            }\n          }\n        });\n      }\n    }\n\n    if (options.hrefValues && options.data) {\n      this.find('a,span[rel]').each(function () {\n        let $obj = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            oldHref,\n            oldRel,\n            oldName;\n\n        for (const i in options.hrefValues) {\n          if (!options.hrefValues.hasOwnProperty(i)) {\n            continue;\n          }\n\n          const name = options.hrefValues[i];\n\n          if (oldHref = $obj.attr('href')) {\n            const newHref = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldHref, name, encodeURIComponent(options.data[name]));\n            const orig = $obj.text() === $obj.html() ? $obj.text() : null;\n\n            if (oldHref !== newHref) {\n              $obj.attr('href', newHref);\n\n              if (orig) {\n                $obj.text(orig);\n              }\n            }\n          }\n\n          if (oldRel = $obj.attr('rel')) {\n            $obj.attr('rel', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldRel, name, options.data[name]));\n          }\n\n          if (oldName = $obj.attr('name')) {\n            $obj.attr('name', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldName, name, options.data[name]));\n          }\n        }\n      });\n    }\n\n    if (contentChange) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).triggerHandler('user_content_change');\n    }\n  }\n\n  return this;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData.defaults = {\n  htmlValues: null,\n  hrefValues: null\n}; // Reverse version of fillTemplateData.  Lets you pull out the string versions of values held in divs, spans, etc.\n// Based on the usage of class names within an object to specify an object's sub-parts.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateData = function (options) {\n  if (!this.length || !options) {\n    return {};\n  }\n\n  var result = {},\n      item,\n      val;\n\n  if (options.textValues) {\n    const _this = this;\n\n    options.textValues.forEach(item => {\n      const $item = _this.find('.' + item.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n\n      val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($item.text());\n\n      if ($item.html() === '&nbsp;') {\n        val = '';\n      }\n\n      if (val.length === 1 && val.charCodeAt(0) === 160) {\n        val = '';\n      }\n\n      result[item] = val;\n    });\n  }\n\n  if (options.dataValues) {\n    for (item in options.dataValues) {\n      var val = this.data(options.dataValues[item]);\n\n      if (val) {\n        result[options.dataValues[item]] = val;\n      }\n    }\n  }\n\n  if (options.htmlValues) {\n    for (item in options.htmlValues) {\n      const $elem = this.find('.' + options.htmlValues[item].replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n      val = null;\n\n      if ($elem.hasClass('user_content') && $elem.data('unenhanced_content_html')) {\n        val = $elem.data('unenhanced_content_html');\n      } else {\n        val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($elem.html());\n      }\n\n      result[options.htmlValues[item]] = val;\n    }\n  }\n\n  return result;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateValue = function (value, options) {\n  const opts = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, options, {\n    textValues: [value]\n  });\n  return this.getTemplateData(opts)[value];\n};\n\n//# sourceURL=webpack:///./ui/shared/util/templateData.js?");

/***/ }),

/***/ "YQRR":
/*!***************************************************************!*\
  !*** ./ui/shared/pseudonyms/backbone/models/Pseudonym.coffee ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\nvar I18n, Pseudonym,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\nI18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('pseudonym');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Pseudonym = (function(superClass) {\n  extend(Pseudonym, superClass);\n\n  function Pseudonym() {\n    return Pseudonym.__super__.constructor.apply(this, arguments);\n  }\n\n  Pseudonym.prototype.errorMap = function(policy) {\n    if (policy == null) {\n      policy = {};\n    }\n    return {\n      unique_id: {\n        too_short: I18n.t(\"errors.required\", \"Required\"),\n        too_long: I18n.t(\"errors.too_long\", \"Can't exceed %{max} characters\", {\n          max: 100\n        }),\n        invalid: I18n.t(\"errors.invalid\", \"May only contain letters, numbers, or the following: %{characters}\", {\n          characters: \". + - _ @ =\"\n        }),\n        taken: I18n.t(\"errors.taken\", \"Already in use\"),\n        bad_credentials: I18n.t(\"errors.bad_credentials\", \"Invalid username or password\"),\n        not_email: I18n.t(\"errors.not_email\", \"Not a valid email address\")\n      },\n      sis_user_id: {\n        too_long: I18n.t(\"errors.too_long\", \"Can't exceed %{max} characters\", {\n          max: 255\n        }),\n        taken: I18n.t(\"errors.sis_taken\", \"The SIS ID is already in use\")\n      },\n      password: {\n        too_short: I18n.t(\"errors.too_short\", \"Must be at least %{min} characters\", {\n          min: policy.min_length\n        }),\n        sequence: I18n.t(\"errors.sequence\", \"Can't incude a run of more than %{max} characters (e.g. abcdef)\", {\n          max: policy.max_sequence\n        }),\n        common: I18n.t(\"errors.common\", \"Can't use common passwords (e.g. \\\"password\\\")\"),\n        repeated: I18n.t(\"errors.repeated\", \"Can't have the same character more than %{max} times in a row\", {\n          max: policy.max_repeats\n        }),\n        confirmation: I18n.t(\"errors.mismatch\", \"Doesn't match\"),\n        too_long: I18n.t(\"errors.too_long\", \"Can't exceed %{max} characters\", {\n          max: 255\n        })\n      },\n      password_confirmation: {\n        confirmation: I18n.t(\"errors.mismatch\", \"Doesn't match\")\n      }\n    };\n  };\n\n  Pseudonym.prototype.normalizeErrors = function(errors, policy) {\n    var e, i, j, len, len1, ref, ref1, ref2, too_short, type;\n    if (errors) {\n      ref = ['unique_id', 'password'];\n      for (i = 0, len = ref.length; i < len; i++) {\n        type = ref[i];\n        if (!(((ref1 = errors[type]) != null ? ref1.length : void 0) > 1)) {\n          continue;\n        }\n        too_short = null;\n        ref2 = errors[type];\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          e = ref2[j];\n          if (e.type === 'too_short') {\n            too_short = e;\n          }\n        }\n        if (too_short) {\n          errors[type] = [too_short];\n        }\n      }\n    }\n    return Pseudonym.__super__.normalizeErrors.call(this, errors, policy);\n  };\n\n  return Pseudonym;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/pseudonyms/backbone/models/Pseudonym.coffee?");

/***/ }),

/***/ "nyib":
/*!********************************************************!*\
  !*** ./ui/features/user_logins/react/SuspendedIcon.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SuspendedIcon; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-tooltip */ \"HU+D\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('user_name');\nfunction SuspendedIcon({\n  login\n}) {\n  const tipText = I18n.t('The login %{login} is currently suspended and will not be able to access Canvas', {\n    login\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_2__[\"Tooltip\"], {\n    renderTip: tipText,\n    on: ['hover', 'focus', 'click'],\n    placement: \"end\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], {\n    renderIcon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"IconWarningLine\"],\n    size: \"large\",\n    color: \"danger\",\n    withBackground: false,\n    withBorder: false,\n    screenReaderLabel: I18n.t('Toggle tooltip')\n  }));\n}\n\n//# sourceURL=webpack:///./ui/features/user_logins/react/SuspendedIcon.js?");

/***/ }),

/***/ "tJRU":
/*!*************************************************!*\
  !*** ./ui/features/user_logins/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_SuspendedIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../react/SuspendedIcon */ \"nyib\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _canvas_pseudonyms_backbone_models_Pseudonym_coffee__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/pseudonyms/backbone/models/Pseudonym.coffee */ \"YQRR\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_util_jquery_fixDialogButtons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/util/jquery/fixDialogButtons */ \"897F\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n/* formSubmit, fillFormData, formErrors */\n\n\n\n\n/* confirmDelete, showIf */\n\n\nconst I18n = Object(_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"useScope\"])('user_logins');\nconst savedSSOIcons = {};\njquery__WEBPACK_IMPORTED_MODULE_4___default()(function () {\n  var _ENV$user_suspend_sta;\n\n  const $form = jquery__WEBPACK_IMPORTED_MODULE_4___default()('#edit_pseudonym_form');\n  $form.formSubmit({\n    disableWhileLoading: true,\n    formErrors: false,\n\n    processData(data) {\n      if (!jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).hasClass('passwordable') || !data['pseudonym[password]'] && !data['pseudonym[password_confirmation]']) {\n        delete data['pseudonym[password]'];\n        delete data['pseudonym[password_confirmation]'];\n      }\n    },\n\n    beforeSubmit() {\n      const select = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).find('.account_id select')[0];\n      const idx = select && select.selectedIndex;\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('account_name', null);\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('account_name', select && select.options[idx] && select.options[idx].innerHTML);\n    },\n\n    success(data) {\n      let $login;\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).dialog('close');\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('unique_id_text')) {\n        $login = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('unique_id_text').parents('.login');\n      } else {\n        $login = jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login.blank').clone(true);\n        jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .add_holder').before($login);\n        $login.removeClass('blank');\n        $login.show();\n        data.account_name = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('account_name');\n      }\n\n      $login.fillTemplateData({\n        data,\n        hrefValues: ['id', 'account_id']\n      });\n      $login.find('.links').addClass('passwordable');\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login .delete_pseudonym_link').show();\n      jquery__WEBPACK_IMPORTED_MODULE_4___default.a.flashMessage(I18n.t('save_succeeded', 'Save successful'));\n    },\n\n    error(errors, jqXHR, response) {\n      if (response.status === 401) return jquery__WEBPACK_IMPORTED_MODULE_4___default.a.flashError(I18n.t('error.unauthorized', 'You do not have sufficient privileges to make the change requested'));\n      const accountId = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).find('.account_id select').val();\n      const policy = ENV.PASSWORD_POLICIES && ENV.PASSWORD_POLICIES[accountId] || ENV.PASSWORD_POLICY;\n      errors = _canvas_pseudonyms_backbone_models_Pseudonym_coffee__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.normalizeErrors(errors, policy);\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).formErrors(errors);\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_4___default()('#edit_pseudonym_form .cancel_button').on('click', () => {\n    $form.dialog('close');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information').delegate('.login_details_link', 'click', function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('tr').find('.login_details').show();\n    jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).hide();\n  }).delegate('.edit_pseudonym_link', 'click', function (event) {\n    event.preventDefault();\n    const $sis_row = $form.find('.sis_user_id');\n    const $integration_id_row = $form.find('.integration_id');\n    $sis_row.hide();\n    $integration_id_row.hide();\n    $form.attr('action', jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).attr('rel')).attr('method', 'PUT');\n    const data = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.login').getTemplateData({\n      textValues: ['unique_id', 'sis_user_id', 'integration_id', 'can_edit_sis_user_id']\n    });\n    data.password = '';\n    data.password_confirmation = '';\n    $form.fillFormData(data, {\n      object_name: 'pseudonym'\n    });\n\n    if (data.can_edit_sis_user_id === 'true') {\n      $sis_row.show();\n      $integration_id_row.show();\n    } else {\n      $sis_row.remove();\n      $integration_id_row.remove();\n    }\n\n    const passwordable = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.links').hasClass('passwordable');\n    const delegated = passwordable && jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.links').hasClass('delegated-auth');\n    $form.toggleClass('passwordable', passwordable);\n    $form.find('tr.password').showIf(passwordable);\n    $form.find('tr.delegated').showIf(delegated);\n    $form.find('.account_id').hide();\n    const $account_select = $form.find('.account_id select');\n    const accountId = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).data('accountId');\n\n    if ($account_select && accountId) {\n      $account_select.val(accountId);\n    }\n\n    $form.dialog({\n      width: 'auto',\n\n      close() {\n        if ($form.data('unique_id_text') && $form.data('unique_id_text').parents('.login').hasClass('blank')) {\n          $form.data('unique_id_text').parents('.login').remove();\n        }\n      }\n\n    });\n    $form.dialog('option', 'title', I18n.t('titles.update_login', 'Update Login')).find('.submit_button').text(I18n.t('buttons.update_login', 'Update Login'));\n    $form.dialog('option', 'beforeClose', () => {\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()('.error_box:visible').trigger('click');\n    });\n    const $unique_id = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.login').find('.unique_id');\n    $form.data('unique_id_text', $unique_id);\n    $form.find(':input:visible:first').trigger('focus').trigger('select');\n  }).delegate('.delete_pseudonym_link', 'click', function (event) {\n    event.preventDefault();\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login:visible').length < 2) {\n      // eslint-disable-next-line no-alert\n      alert(I18n.t('notices.cant_delete_last_login', \"You can't delete the last login for a user\"));\n      return;\n    }\n\n    const login = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.login').find('.unique_id').text();\n    jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).parents('.login').confirmDelete({\n      message: I18n.t('confirms.delete_login', 'Are you sure you want to delete the login, \"%{login}\"?', {\n        login\n      }),\n      url: jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).attr('rel'),\n\n      success() {\n        jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).fadeOut();\n\n        if (jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login:visible').length < 2) {\n          jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login .delete_pseudonym_link').hide();\n        }\n      }\n\n    });\n  }).delegate('.add_pseudonym_link', 'click', function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_4___default()('#login_information .login.blank .edit_pseudonym_link').click();\n    $form.attr('action', jquery__WEBPACK_IMPORTED_MODULE_4___default()(this).attr('rel')).attr('method', 'POST');\n    $form.fillFormData({\n      'pseudonym[unique_id]': ''\n    });\n    $form.dialog('option', 'title', I18n.t('titles.add_login', 'Add Login')).find('.submit_button').text(I18n.t('buttons.add_login', 'Add Login'));\n    $form.addClass('passwordable');\n    $form.find('tr.password').show();\n    $form.find('.account_id').show();\n    $form.find('.account_id_select').change();\n    $form.data('unique_id_text', null);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_4___default()('.reset_mfa_link').on('click', function (event) {\n    event.preventDefault();\n    const $disable_mfa_link = jquery__WEBPACK_IMPORTED_MODULE_4___default()(this);\n    jquery__WEBPACK_IMPORTED_MODULE_4___default.a.ajaxJSON($disable_mfa_link.attr('href'), 'DELETE', {}, () => {\n      jquery__WEBPACK_IMPORTED_MODULE_4___default.a.flashMessage(I18n.t('notices.mfa_reset', 'Multi-factor authentication reset'));\n      $disable_mfa_link.parent().remove();\n    });\n  }); // TODO: the user's pseudonyms are listed in this bundle (user_logins) but the\n  // control of suspending/reactivating them is unfortunately in another bundle\n  // (user_name), and the two bundles have no way of directly communicating with\n  // each other. So for now we will just use a CustomEvent and use window as the\n  // communication bus. For the other end of this communication channel, see\n  // ui/features/user_name/react/UserSuspendLink.js\n  //\n  // Eventually both bundles should be rewritten into one larger tree of React\n  // components, and then this can be redone in more standard ways.\n\n  const pseuds = (_ENV$user_suspend_sta = ENV.user_suspend_status) === null || _ENV$user_suspend_sta === void 0 ? void 0 : _ENV$user_suspend_sta.pseudonyms;\n\n  function setSuspend(id) {\n    const icon = document.querySelector(`.sso-icon[data-pseudonym-id=\"${id}\"]`);\n    const login = pseuds.find(p => p.id === id).unique_id;\n    if (typeof savedSSOIcons[id] === 'undefined') savedSSOIcons[id] = icon.cloneNode(true);\n    const innerDiv = document.createElement('div');\n    icon.replaceChildren(innerDiv);\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_SuspendedIcon__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      login: login\n    }), innerDiv);\n  }\n\n  function unsetSuspend(id) {\n    const icon = document.querySelector(`.sso-icon[data-pseudonym-id=\"${id}\"]`);\n    if (typeof savedSSOIcons[id] === 'undefined') return;\n    icon.replaceWith(savedSSOIcons[id].cloneNode(true));\n    delete savedSSOIcons[id];\n  }\n\n  if (pseuds) {\n    // Replace the icon for any suspended pseudonym with the \"suspended\" component\n    pseuds.filter(p => p.workflow_state === 'suspended').map(p => p.id).forEach(id => setSuspend(id)); // I don't THINK this ever has to be removed in this configuration\n\n    window.addEventListener('username:pseudonymstatuschange', function (event) {\n      const icons = document.querySelectorAll('.sso-icon[data-pseudonym-id]');\n\n      const iconIdOf = elt => elt.attributes.getNamedItem('data-pseudonym-id').value;\n\n      const action = event.detail.action === 'suspend' ? setSuspend : unsetSuspend;\n\n      for (const icon of icons) {\n        action(iconIdOf(icon));\n      }\n    });\n  }\n});\n\n//# sourceURL=webpack:///./ui/features/user_logins/jquery/index.js?");

/***/ }),

/***/ "wC8m":
/*!******************************************!*\
  !*** ./ui/features/user_logins/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jquery/index */ \"tJRU\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n//# sourceURL=webpack:///./ui/features/user_logins/index.js?");

/***/ })

}]);